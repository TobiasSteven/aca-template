(()=>{"use strict";const e=window.wp.blocks,t=window.React,a=window.wp.i18n,l=window.wp.blockEditor,o=window.wp.components,r=window.wp.element,n=JSON.parse('{"UU":"mon-theme-aca/publications-tabs"}');(0,e.registerBlockType)(n.UU,{edit:function({attributes:e,setAttributes:n}){const{tabs:c,defaultActiveTab:m,backgroundColor:i,borderColor:s,textColor:d,activeTextColor:b,activeBorderColor:u,hoverTextColor:C,hoverBorderColor:p}=e,[h,E]=(0,r.useState)(m),[v,_]=(0,r.useState)(""),[g,N]=(0,r.useState)(""),k=(0,l.useBlockProps)({className:"publications-tabs-block",style:{backgroundColor:i,borderBottom:`1px solid ${s}`}}),x=(e,t,a)=>{const l=[...c];l[e]={...l[e],[t]:a},n({tabs:l})};return(0,t.createElement)(r.Fragment,null,(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(o.PanelBody,{title:(0,a.__)("Onglets","mon-theme-aca")},(0,t.createElement)("div",{className:"tabs-editor"},(0,t.createElement)("div",{className:"tabs-list"},(0,t.createElement)("p",{className:"tabs-title"},(0,a.__)("Onglets existants","mon-theme-aca")),c.length>0?(0,t.createElement)("div",{className:"tabs-items"},c.map(((e,l)=>(0,t.createElement)("div",{key:l,className:"tab-item"},(0,t.createElement)("div",{className:"tab-info"},(0,t.createElement)(o.TextControl,{label:(0,a.__)("ID","mon-theme-aca"),value:e.id,onChange:e=>x(l,"id",e)}),(0,t.createElement)(o.TextControl,{label:(0,a.__)("Libellé","mon-theme-aca"),value:e.label,onChange:e=>x(l,"label",e)})),(0,t.createElement)("div",{className:"tab-actions"},(0,t.createElement)(o.Button,{isSecondary:!0,isSmall:!0,onClick:()=>{return t=e.id,n({defaultActiveTab:t}),void E(t);var t},disabled:e.id===m},e.id===m?(0,a.__)("Onglet par défaut","mon-theme-aca"):(0,a.__)("Définir par défaut","mon-theme-aca")),(0,t.createElement)(o.Button,{isDestructive:!0,isSmall:!0,onClick:()=>(e=>{const t=[...c],a=t[e];t.splice(e,1),a.id===m&&t.length>0&&(n({defaultActiveTab:t[0].id}),E(t[0].id)),n({tabs:t})})(l),disabled:c.length<=1},(0,a.__)("Supprimer","mon-theme-aca"))))))):(0,t.createElement)("p",{className:"no-tabs"},(0,a.__)("Aucun onglet défini","mon-theme-aca"))),(0,t.createElement)("div",{className:"add-tab"},(0,t.createElement)("p",{className:"add-tab-title"},(0,a.__)("Ajouter un onglet","mon-theme-aca")),(0,t.createElement)(o.TextControl,{placeholder:(0,a.__)("ID de l'onglet (sans espaces)","mon-theme-aca"),value:v,onChange:e=>_(e.replace(/\s+/g,"-").toLowerCase())}),(0,t.createElement)(o.TextControl,{placeholder:(0,a.__)("Libellé de l'onglet","mon-theme-aca"),value:g,onChange:e=>N(e)}),(0,t.createElement)(o.Button,{isPrimary:!0,onClick:()=>{""!==v.trim()&&""!==g.trim()&&(n({tabs:[...c,{id:v.trim(),label:g.trim()}]}),_(""),N(""))},disabled:!v.trim()||!g.trim()},(0,a.__)("Ajouter","mon-theme-aca"))))),(0,t.createElement)(o.PanelBody,{title:(0,a.__)("Couleurs","mon-theme-aca")},(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur de fond","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:i,onChange:e=>n({backgroundColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur de bordure","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:s,onChange:e=>n({borderColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur du texte","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:d,onChange:e=>n({textColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur du texte actif","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:b,onChange:e=>n({activeTextColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur de bordure active","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:u,onChange:e=>n({activeBorderColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur du texte au survol","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:C,onChange:e=>n({hoverTextColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur de bordure au survol","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:p,onChange:e=>n({hoverBorderColor:e}),enableAlpha:!0})))),(0,t.createElement)("div",{...k},(0,t.createElement)("div",{className:"publications-tabs-container"},(0,t.createElement)("div",{className:"tabs-wrapper"},c.map((e=>(0,t.createElement)("button",{key:e.id,className:"tab-button "+(h===e.id?"active":""),onClick:()=>E(e.id),style:{color:h===e.id?b:d,borderBottomColor:h===e.id?u:"transparent"}},(0,t.createElement)(l.RichText,{tagName:"span",value:e.label,onChange:t=>{const a=c.findIndex((t=>t.id===e.id));-1!==a&&x(a,"label",t)},placeholder:(0,a.__)("Libellé...","mon-theme-aca")}))))))))},save:function({attributes:e}){const{tabs:a,defaultActiveTab:o,backgroundColor:r,borderColor:n,textColor:c,activeTextColor:m,activeBorderColor:i}=e,s=l.useBlockProps.save({className:"publications-tabs-block",style:{backgroundColor:r,borderBottom:`1px solid ${n}`}});return(0,t.createElement)("div",{...s},(0,t.createElement)("div",{className:"publications-tabs-container"},(0,t.createElement)("div",{className:"tabs-wrapper"},a.map((e=>(0,t.createElement)("button",{key:e.id,className:"tab-button "+(e.id===o?"active":""),"data-tab-id":e.id,style:{color:e.id===o?m:c,borderBottomColor:e.id===o?i:"transparent"}},(0,t.createElement)(l.RichText.Content,{tagName:"span",value:e.label})))))))}})})();