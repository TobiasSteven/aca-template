(()=>{"use strict";const e=window.wp.blocks,t=window.React,a=window.wp.i18n,n=window.wp.blockEditor,l=window.wp.components,o=window.wp.element,m=()=>(0,t.createElement)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor"},(0,t.createElement)("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v10h-10z"})),c=()=>(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})),r=()=>(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})),i=JSON.parse('{"UU":"mon-theme-aca/testimonials"}');(0,e.registerBlockType)(i.UU,{edit:function({attributes:e,setAttributes:i}){const{sectionTitle:s,sectionDescription:d,testimonials:u}=e,[h,x]=(0,o.useState)(0),g=(e,t,a)=>{const n=[...u];n[e][t]=a,i({testimonials:n})},v=(0,n.useBlockProps)({className:"wp-block-mon-theme-aca-testimonials-editor"}),E=u[h]||{};return(0,t.createElement)(o.Fragment,null,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,a.__)("Paramètres généraux","mon-theme-aca")},(0,t.createElement)(l.TextControl,{label:(0,a.__)("Titre de la section","mon-theme-aca"),value:s,onChange:e=>i({sectionTitle:e})}),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Description de la section","mon-theme-aca"),value:d,onChange:e=>i({sectionDescription:e})})),(0,t.createElement)(l.PanelBody,{title:(0,a.__)("Gestion des témoignages","mon-theme-aca")},(0,t.createElement)("p",null,(0,a.__)("Vous modifiez le témoignage","mon-theme-aca")," ",h+1," / ",u.length),(0,t.createElement)(l.BaseControl,{label:(0,a.__)("Image du témoin","mon-theme-aca"),id:`testimonial-image-${h}`},(0,t.createElement)(n.MediaUploadCheck,null,(0,t.createElement)(n.MediaUpload,{onSelect:e=>g(h,"image",e.url),allowedTypes:["image"],value:E.image,render:({open:e})=>(0,t.createElement)(l.Button,{onClick:e,variant:E.image?"secondary":"primary"},E.image?(0,a.__)("Changer l'image","mon-theme-aca"):(0,a.__)("Sélectionner une image","mon-theme-aca"))})),E.image&&(0,t.createElement)("div",{style:{marginTop:"10px"}},(0,t.createElement)("img",{src:E.image,alt:"",style:{maxWidth:"100px",height:"auto"}}),(0,t.createElement)(l.Button,{isDestructive:!0,variant:"link",onClick:()=>g(h,"image","")},(0,a.__)("Supprimer l'image","mon-theme-aca")))),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Citation","mon-theme-aca"),value:E.quote,onChange:e=>g(h,"quote",e)}),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Nom","mon-theme-aca"),value:E.name,onChange:e=>g(h,"name",e)}),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Poste","mon-theme-aca"),value:E.title,onChange:e=>g(h,"title",e)}),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Pays","mon-theme-aca"),value:E.country,onChange:e=>g(h,"country",e)}),(0,t.createElement)("hr",null),(0,t.createElement)(l.Button,{isDestructive:!0,variant:"primary",onClick:()=>(e=>{const t=u.filter(((t,a)=>a!==e));h>=t.length&&x(Math.max(0,t.length-1)),i({testimonials:t})})(h),style:{marginTop:"16px"}},(0,a.__)("Supprimer ce témoignage","mon-theme-aca"))),(0,t.createElement)(l.PanelBody,{title:(0,a.__)("Ajouter un nouveau témoignage","mon-theme-aca")},(0,t.createElement)(l.Button,{variant:"primary",onClick:()=>{const e={image:"",quote:(0,a.__)("Nouveau témoignage...","mon-theme-aca"),name:(0,a.__)("Nom du témoin","mon-theme-aca"),title:(0,a.__)("Fonction, Lieu","mon-theme-aca"),country:(0,a.__)("Pays","mon-theme-aca")};i({testimonials:[...u,e]}),x(u.length)}},(0,a.__)("Ajouter un témoignage","mon-theme-aca")))),(0,t.createElement)("div",{...v},(0,t.createElement)("div",{className:"text-center mb-12"},(0,t.createElement)(n.RichText,{tagName:"h2",className:"text-3xl md:text-4xl font-bold text-[#1F6B5C] mb-4",value:s,onChange:e=>i({sectionTitle:e}),placeholder:(0,a.__)("Titre de la section...","mon-theme-aca")}),(0,t.createElement)(n.RichText,{tagName:"p",className:"text-lg text-[#6C757D] max-w-2xl mx-auto",value:d,onChange:e=>i({sectionDescription:e}),placeholder:(0,a.__)("Description...","mon-theme-aca")})),(0,t.createElement)("div",{className:"relative max-w-4xl mx-auto"},u.length>0&&(0,t.createElement)("div",{className:"testimonial-card-editor bg-white rounded-2xl p-8 md:p-12 shadow-xl relative"},(0,t.createElement)("div",{className:"absolute top-6 left-6 text-[#A8E6CF]"},(0,t.createElement)(m,null)),(0,t.createElement)("div",{className:"text-center pt-8"},(0,t.createElement)(n.RichText,{tagName:"blockquote",className:"text-xl md:text-2xl text-[#343A40] mb-8 leading-relaxed italic",value:E.quote,onChange:e=>g(h,"quote",e),placeholder:(0,a.__)("Citation...","mon-theme-aca")}),(0,t.createElement)("div",{className:"flex items-center justify-center space-x-4"},E.image&&(0,t.createElement)("img",{src:E.image,alt:E.name,className:"w-16 h-16 rounded-full object-cover border-4 border-[#2D9B8A]"}),(0,t.createElement)("div",{className:"text-left"},(0,t.createElement)(n.RichText,{tagName:"div",className:"font-bold text-[#1F6B5C] text-lg",value:E.name,onChange:e=>g(h,"name",e),placeholder:(0,a.__)("Nom...","mon-theme-aca")}),(0,t.createElement)(n.RichText,{tagName:"div",className:"text-[#6C757D]",value:E.title,onChange:e=>g(h,"title",e),placeholder:(0,a.__)("Poste...","mon-theme-aca")}),(0,t.createElement)(n.RichText,{tagName:"div",className:"text-[#2D9B8A] font-medium",value:E.country,onChange:e=>g(h,"country",e),placeholder:(0,a.__)("Pays...","mon-theme-aca")}))))),u.length>1&&(0,t.createElement)(o.Fragment,null,(0,t.createElement)("button",{onClick:()=>x((e=>(e-1+u.length)%u.length)),className:"nav-button-editor prev"},(0,t.createElement)(c,null)),(0,t.createElement)("button",{onClick:()=>x((e=>(e+1)%u.length)),className:"nav-button-editor next"},(0,t.createElement)(r,null)),(0,t.createElement)("div",{className:"dots-container-editor"},u.map(((e,a)=>(0,t.createElement)("button",{key:a,onClick:()=>x(a),className:a===h?"active":""}))))))))},save:function({attributes:e}){const{sectionTitle:a,testimonials:l,sectionDescription:o}=e,m=n.useBlockProps.save();return(0,t.createElement)("div",{...m},(0,t.createElement)("section",{className:"py-16 bg-[#F8F9FA]"},(0,t.createElement)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},(0,t.createElement)("div",{className:"mb-16"},(0,t.createElement)("div",{className:"text-center mb-12"},(0,t.createElement)(n.RichText.Content,{tagName:"h2",className:"text-3xl md:text-4xl font-bold text-[#1F6B5C] mb-4",value:a}),(0,t.createElement)(n.RichText.Content,{tagName:"p",className:"text-lg text-[#6C757D] max-w-2xl mx-auto",value:o})),(0,t.createElement)("div",{className:"relative max-w-4xl mx-auto"},l.map(((e,a)=>(0,t.createElement)("div",{key:a,className:"testimonial-card bg-white rounded-2xl p-8 md:p-12 shadow-xl relative",style:{display:0===a?"block":"none"}},(0,t.createElement)("div",{className:"absolute top-6 left-6"},(0,t.createElement)("svg",{className:"w-12 h-12 text-[#A8E6CF]",fill:"currentColor",viewBox:"0 0 24 24"},(0,t.createElement)("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v10h-10z"}))),(0,t.createElement)("div",{className:"text-center pt-8"},(0,t.createElement)("blockquote",{className:"text-xl md:text-2xl text-[#343A40] mb-8 leading-relaxed italic"},'"',(0,t.createElement)(n.RichText.Content,{value:e.quote}),'"'),(0,t.createElement)("div",{className:"flex items-center justify-center space-x-4"},(0,t.createElement)("img",{src:e.image,alt:e.name,className:"w-16 h-16 rounded-full object-cover border-4 border-[#2D9B8A]"}),(0,t.createElement)("div",{className:"text-left"},(0,t.createElement)("div",{className:"font-bold text-[#1F6B5C] text-lg"},(0,t.createElement)(n.RichText.Content,{value:e.name})),(0,t.createElement)("div",{className:"text-[#6C757D]"},(0,t.createElement)(n.RichText.Content,{value:e.title})),(0,t.createElement)("div",{className:"text-[#2D9B8A] font-medium"},"Afrique"))))))),(0,t.createElement)("button",{className:"nav-button prev absolute left-4 top-1/2 transform -translate-y-1/2 bg-white shadow-lg rounded-full p-3 hover:bg-[#A8E6CF] transition-colors"},(0,t.createElement)("svg",{className:"w-6 h-6 text-[#2D9B8A]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"}))),(0,t.createElement)("button",{className:"nav-button next absolute right-4 top-1/2 transform -translate-y-1/2 bg-white shadow-lg rounded-full p-3 hover:bg-[#A8E6CF] transition-colors"},(0,t.createElement)("svg",{className:"w-6 h-6 text-[#2D9B8A]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}))),(0,t.createElement)("div",{className:"dots-container flex justify-center mt-8 space-x-2"},l.map(((e,a)=>(0,t.createElement)("button",{key:a,className:"dot w-3 h-3 rounded-full transition-all duration-300 "+(0===a?"bg-[#2D9B8A] scale-125":"bg-[#A8E6CF] hover:bg-[#2D9B8A]")})))))))))}})})();