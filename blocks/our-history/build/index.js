(()=>{"use strict";const e=window.wp.blocks,t=window.React,a=window.wp.i18n,l=window.wp.blockEditor,o=window.wp.components,r=window.wp.element,n=JSON.parse('{"UU":"mon-theme-aca/our-history"}');(0,e.registerBlockType)(n.UU,{edit:function({attributes:e,setAttributes:n}){const{title:c,mainText:m,quote:i,additionalText:s,imageUrl:u,imageAlt:h,backgroundColor:d,textColor:g,titleColor:C,quoteColor:E,highlightColor:p,quoteBorderColor:N}=e,v=(0,l.useBlockProps)({className:"our-history-block",style:{backgroundColor:d}});return(0,t.createElement)(r.Fragment,null,(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(o.PanelBody,{title:(0,a.__)("Contenu","mon-theme-aca")},(0,t.createElement)(o.TextControl,{label:(0,a.__)("Texte alternatif de l'image","mon-theme-aca"),value:h,onChange:e=>n({imageAlt:e})})),(0,t.createElement)(o.PanelBody,{title:(0,a.__)("Couleurs","mon-theme-aca")},(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur de fond","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:d,onChange:e=>n({backgroundColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur du texte","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:g,onChange:e=>n({textColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur du titre","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:C,onChange:e=>n({titleColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur de la citation","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:E,onChange:e=>n({quoteColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur des éléments mis en évidence","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:p,onChange:e=>n({highlightColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur de la bordure de citation","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:N,onChange:e=>n({quoteBorderColor:e}),enableAlpha:!0})))),(0,t.createElement)("div",{...v},(0,t.createElement)("div",{className:"our-history-container"},(0,t.createElement)("div",{className:"our-history-grid"},(0,t.createElement)("div",{className:"our-history-content"},(0,t.createElement)(l.RichText,{tagName:"h2",className:"our-history-title",style:{color:C},value:c,onChange:e=>n({title:e}),placeholder:(0,a.__)("Titre...","mon-theme-aca")}),(0,t.createElement)("div",{className:"our-history-text-content",style:{color:g}},(0,t.createElement)(l.RichText,{tagName:"p",className:"main-text",value:m,onChange:e=>n({mainText:e}),placeholder:(0,a.__)("Texte principal...","mon-theme-aca")}),(0,t.createElement)(l.RichText,{tagName:"blockquote",className:"history-quote",style:{borderLeftColor:N,color:E},value:i,onChange:e=>n({quote:e}),placeholder:(0,a.__)("Citation...","mon-theme-aca")}),(0,t.createElement)(l.RichText,{tagName:"p",className:"additional-text",value:s,onChange:e=>n({additionalText:e}),placeholder:(0,a.__)("Texte supplémentaire...","mon-theme-aca")}))),(0,t.createElement)("div",{className:"our-history-image"},(0,t.createElement)(l.MediaUploadCheck,null,(0,t.createElement)(l.MediaUpload,{onSelect:e=>{n({imageUrl:e.url,imageAlt:e.alt||h})},allowedTypes:["image"],value:u,render:({open:e})=>(0,t.createElement)("div",{className:"image-container"},u?(0,t.createElement)("img",{src:u,alt:h,className:"history-image",onClick:e}):(0,t.createElement)("div",{className:"image-placeholder",onClick:e},(0,t.createElement)("span",{className:"dashicons dashicons-format-image"}),(0,t.createElement)("p",null,(0,a.__)("Sélectionner une image","mon-theme-aca"))),(0,t.createElement)("div",{className:"image-actions"},(0,t.createElement)(o.Button,{onClick:e,className:"edit-image-button"},u?(0,a.__)("Modifier l'image","mon-theme-aca"):(0,a.__)("Ajouter une image","mon-theme-aca")),u&&(0,t.createElement)(o.Button,{onClick:()=>n({imageUrl:""}),className:"remove-image-button",isDestructive:!0},(0,a.__)("Supprimer l'image","mon-theme-aca"))))})))))))},save:function({attributes:e}){const{title:a,mainText:o,quote:r,additionalText:n,imageUrl:c,imageAlt:m,backgroundColor:i,textColor:s,titleColor:u,quoteColor:h,highlightColor:d,quoteBorderColor:g}=e,C=l.useBlockProps.save({className:"our-history-block",style:{backgroundColor:i}}),E=(e,t)=>e?e.replace(/<span class="highlight">(.*?)<\/span>/g,`<span style="color: ${t}; font-weight: 600;">$1</span>`):"";return E(o,d),E(n,d),(0,t.createElement)("section",{...C},(0,t.createElement)("div",{className:"our-history-container"},(0,t.createElement)("div",{className:"our-history-grid"},(0,t.createElement)("div",{className:"our-history-content"},(0,t.createElement)(l.RichText.Content,{tagName:"h2",className:"our-history-title",style:{color:u},value:a}),(0,t.createElement)("div",{className:"our-history-text-content",style:{color:s}},(0,t.createElement)(l.RichText.Content,{tagName:"p",className:"main-text",value:o}),(0,t.createElement)(l.RichText.Content,{tagName:"blockquote",className:"history-quote",style:{borderLeftColor:g,color:h},value:r}),(0,t.createElement)(l.RichText.Content,{tagName:"p",className:"additional-text",value:n}))),(0,t.createElement)("div",{className:"our-history-image"},c&&(0,t.createElement)("img",{src:c,alt:m,className:"history-image"})))))}})})();