(()=>{"use strict";const e=window.wp.blocks,t=window.React,a=window.wp.i18n,n=window.wp.blockEditor,o=window.wp.components,r=window.wp.element,l=JSON.parse('{"UU":"mon-theme-aca/hero-slider"}');(0,e.registerBlockType)(l.UU,{edit:function({attributes:e,setAttributes:l}){const{slides:i,sliderHeight:c,autoPlay:m,autoPlaySpeed:s,showNavigation:d,showIndicators:u}=e,[h,p]=(0,r.useState)(0),g=(e,t,a)=>{const n=[...i];n[e]={...n[e],[t]:a},l({slides:n})},b=(0,n.useBlockProps)({className:"wp-block-mon-theme-aca-hero-slider"});return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(o.PanelBody,{title:(0,a.__)("Paramètres du slider","mon-theme-aca"),initialOpen:!0},(0,t.createElement)(o.SelectControl,{label:(0,a.__)("Hauteur du slider","mon-theme-aca"),value:c,options:[{label:"50vh",value:"50vh"},{label:"60vh",value:"60vh"},{label:"70vh",value:"70vh"},{label:"80vh",value:"80vh"},{label:"90vh",value:"90vh"},{label:"100vh",value:"100vh"}],onChange:e=>l({sliderHeight:e})}),(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Lecture automatique","mon-theme-aca"),checked:m,onChange:e=>l({autoPlay:e})}),m&&(0,t.createElement)(o.RangeControl,{label:(0,a.__)("Vitesse de lecture (ms)","mon-theme-aca"),value:s,onChange:e=>l({autoPlaySpeed:e}),min:2e3,max:1e4,step:500}),(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Afficher la navigation","mon-theme-aca"),checked:d,onChange:e=>l({showNavigation:e})}),(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Afficher les indicateurs","mon-theme-aca"),checked:u,onChange:e=>l({showIndicators:e})})),(0,t.createElement)(o.PanelBody,{title:(0,a.__)("Gestion des slides","mon-theme-aca"),initialOpen:!1},(0,t.createElement)("div",{style:{marginBottom:"20px"}},(0,t.createElement)(o.Button,{variant:"primary",onClick:()=>{const e=[...i,{backgroundImage:"",title:(0,a.__)("Nouveau slide","mon-theme-aca"),subtitle:(0,a.__)("Votre sous-titre ici","mon-theme-aca"),primaryButtonText:(0,a.__)("Bouton principal","mon-theme-aca"),primaryButtonUrl:"#",secondaryButtonText:(0,a.__)("Bouton secondaire","mon-theme-aca"),secondaryButtonUrl:"#"}];l({slides:e})},style:{marginBottom:"10px"}},(0,a.__)("Ajouter un slide","mon-theme-aca"))),i.map(((e,r)=>(0,t.createElement)("div",{key:r,style:{marginBottom:"20px",padding:"15px",border:"1px solid #ddd",borderRadius:"4px"}},(0,t.createElement)(o.__experimentalHeading,{level:4},(0,a.__)("Slide","mon-theme-aca")," ",r+1,i.length>1&&(0,t.createElement)(o.Button,{variant:"secondary",isDestructive:!0,onClick:()=>(e=>{if(i.length>1){const t=i.filter(((t,a)=>a!==e));l({slides:t}),h>=t.length&&p(t.length-1)}})(r),style:{marginLeft:"10px",fontSize:"12px"}},(0,a.__)("Supprimer","mon-theme-aca"))),(0,t.createElement)(n.MediaUploadCheck,null,(0,t.createElement)(n.MediaUpload,{onSelect:e=>g(r,"backgroundImage",e.url),allowedTypes:["image"],value:e.backgroundImage,render:({open:n})=>(0,t.createElement)("div",{style:{marginBottom:"10px"}},(0,t.createElement)(o.Button,{variant:e.backgroundImage?"secondary":"primary",onClick:n},e.backgroundImage?(0,a.__)("Changer l'image","mon-theme-aca"):(0,a.__)("Sélectionner une image","mon-theme-aca")),e.backgroundImage&&(0,t.createElement)("div",{style:{marginTop:"10px"}},(0,t.createElement)("img",{src:e.backgroundImage,alt:(0,a.__)("Image de fond","mon-theme-aca"),style:{maxWidth:"200px",height:"auto"}}),(0,t.createElement)("br",null),(0,t.createElement)(o.Button,{variant:"link",isDestructive:!0,onClick:()=>g(r,"backgroundImage","")},(0,a.__)("Supprimer l'image","mon-theme-aca"))))})),(0,t.createElement)(o.TextControl,{label:(0,a.__)("Titre","mon-theme-aca"),value:e.title,onChange:e=>g(r,"title",e)}),(0,t.createElement)(o.TextControl,{label:(0,a.__)("Sous-titre","mon-theme-aca"),value:e.subtitle,onChange:e=>g(r,"subtitle",e)}),(0,t.createElement)(o.TextControl,{label:(0,a.__)("Texte bouton principal","mon-theme-aca"),value:e.primaryButtonText,onChange:e=>g(r,"primaryButtonText",e)}),(0,t.createElement)(o.TextControl,{label:(0,a.__)("URL bouton principal","mon-theme-aca"),value:e.primaryButtonUrl,onChange:e=>g(r,"primaryButtonUrl",e)}),(0,t.createElement)(o.TextControl,{label:(0,a.__)("Texte bouton secondaire","mon-theme-aca"),value:e.secondaryButtonText,onChange:e=>g(r,"secondaryButtonText",e)}),(0,t.createElement)(o.TextControl,{label:(0,a.__)("URL bouton secondaire","mon-theme-aca"),value:e.secondaryButtonUrl,onChange:e=>g(r,"secondaryButtonUrl",e)})))))),(0,t.createElement)("div",{...b},(0,t.createElement)("div",{className:"hero-slider-editor",style:{position:"relative",height:c,backgroundColor:"#f0f0f0",borderRadius:"8px",overflow:"hidden"}},i.length>1&&(0,t.createElement)("div",{style:{position:"absolute",top:"10px",left:"10px",zIndex:10,backgroundColor:"rgba(0,0,0,0.7)",borderRadius:"4px",padding:"5px"}},i.map(((e,a)=>(0,t.createElement)(o.Button,{key:a,variant:h===a?"primary":"secondary",onClick:()=>p(a),style:{margin:"2px",minWidth:"30px",fontSize:"12px"}},a+1)))),i[h]&&(0,t.createElement)("div",{className:"hero-slide-preview",style:{height:"100%",backgroundImage:i[h].backgroundImage?`url(${i[h].backgroundImage})`:"none",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",color:"white",padding:"2rem",backgroundColor:i[h].backgroundImage?"transparent":"#2D9B8A"}},(0,t.createElement)("div",{className:"hero-content-preview"},(0,t.createElement)("h1",{style:{fontSize:"clamp(2rem, 5vw, 4rem)",fontWeight:"bold",marginBottom:"1rem",textShadow:"2px 2px 4px rgba(0,0,0,0.5)"}},i[h].title),(0,t.createElement)("p",{style:{fontSize:"clamp(1rem, 2vw, 1.25rem)",marginBottom:"2rem",textShadow:"1px 1px 2px rgba(0,0,0,0.5)"}},i[h].subtitle),(0,t.createElement)("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"}},i[h].primaryButtonText&&(0,t.createElement)("span",{style:{display:"inline-block",backgroundColor:"#28A745",color:"white",fontWeight:"600",padding:"12px 32px",borderRadius:"8px",textDecoration:"none"}},i[h].primaryButtonText),i[h].secondaryButtonText&&(0,t.createElement)("span",{style:{display:"inline-block",backgroundColor:"#FFFFFF",color:"#343A40",fontWeight:"600",padding:"12px 32px",borderRadius:"8px",textDecoration:"none"}},i[h].secondaryButtonText)))))))},save:function({attributes:e}){const{slides:a,sliderHeight:o,autoPlay:r,autoPlaySpeed:l,showNavigation:i,showIndicators:c}=e,m=n.useBlockProps.save({className:"wp-block-mon-theme-aca-hero-slider"});return(0,t.createElement)("div",{...m},(0,t.createElement)("section",{className:"hero-slider","data-auto-play":r,"data-auto-play-speed":l,"data-show-navigation":i,"data-show-indicators":c,style:{position:"relative",width:"100%",overflow:"hidden",height:o}},a.map(((e,a)=>(0,t.createElement)("div",{key:a,className:"hero-slide "+(0===a?"active":""),style:{backgroundImage:e.backgroundImage?`url(${e.backgroundImage})`:"none",backgroundColor:e.backgroundImage?"transparent":"#2D9B8A"}},(0,t.createElement)("div",{className:"hero-content"},(0,t.createElement)("h1",{className:"hero-title"},e.title),(0,t.createElement)("p",{className:"hero-subtitle"},e.subtitle),(0,t.createElement)("div",{className:"hero-buttons"},e.primaryButtonText&&(0,t.createElement)("a",{href:e.primaryButtonUrl,className:"hero-btn hero-btn-primary"},e.primaryButtonText),e.secondaryButtonText&&(0,t.createElement)("a",{href:e.secondaryButtonUrl,className:"hero-btn hero-btn-secondary"},e.secondaryButtonText)))))),i&&a.length>1&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("button",{className:"hero-nav hero-nav-prev","aria-label":"Slide précédente"},"❮"),(0,t.createElement)("button",{className:"hero-nav hero-nav-next","aria-label":"Slide suivante"},"❯")),c&&a.length>1&&(0,t.createElement)("div",{className:"hero-indicators"},a.map(((e,a)=>(0,t.createElement)("button",{key:a,className:"hero-indicator "+(0===a?"active":""),"aria-label":`Aller à la slide ${a+1}`}))))))}})})();