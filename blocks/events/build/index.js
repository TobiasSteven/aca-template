(()=>{"use strict";var e,t={668:()=>{const e=window.wp.blocks,t=window.React,a=window.wp.i18n,n=window.wp.blockEditor,l=window.wp.components,r=window.wp.element,c=({type:e})=>{const a={map:(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),(0,t.createElement)("circle",{cx:"12",cy:"10",r:"3"})),clock:(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.createElement)("polyline",{points:"12 6 12 12 16 14"})),users:(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,t.createElement)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,t.createElement)("circle",{cx:"9",cy:"7",r:"4"}),(0,t.createElement)("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}))};return(0,t.createElement)("span",{className:"icon-preview"},a[e])},o=({events:e})=>{const[a,n]=(0,r.useState)(new Date);return(0,t.createElement)("div",{className:"calendar-component"},(0,t.createElement)("div",{className:"calendar-header-controls"},(0,t.createElement)("h3",{className:"calendar-month-year-title"},a.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})),(0,t.createElement)("div",{className:"calendar-nav"},(0,t.createElement)(l.Button,{onClick:()=>n(new Date(a.setMonth(a.getMonth()-1)))},"<"),(0,t.createElement)(l.Button,{onClick:()=>n(new Date(a.setMonth(a.getMonth()+1)))},">"))),(0,t.createElement)("div",{className:"calendar-grid"},(()=>{const n=a.getMonth(),l=a.getFullYear(),r=new Date;r.setHours(0,0,0,0);const c=new Date(l,n,1).getDay(),o=new Date(l,n+1,0).getDate(),m=e.map((e=>new Date(e.date))).filter((e=>e.getFullYear()===l&&e.getMonth()===n)).map((e=>e.getDate()));return[...["L","M","M","J","V","S","D"].map((e=>(0,t.createElement)("div",{className:"day-name"},e))),...Array.from({length:0===c?6:c-1},((e,a)=>(0,t.createElement)("div",{key:`empty-${a}`,className:"day-cell other-month"}))),...Array.from({length:o},((e,a)=>{const c=a+1,o=new Date(l,n,c);let s="day-cell";return m.includes(c)&&(s+=" has-event"),o.setHours(0,0,0,0)===r.getTime()&&(s+=" is-today"),(0,t.createElement)("div",{key:c,className:s},c)}))]})()))},m=JSON.parse('{"UU":"mon-theme-aca/events"}');(0,e.registerBlockType)(m.UU,{edit:function({attributes:e,setAttributes:m}){const{sectionTitle:s,sectionSubtitle:i,showCalendar:h,eventItems:d,showEventType:v,showTime:p,showLocation:u,showParticipants:g}=e,E=(0,n.useBlockProps)(),[w,y]=(0,r.useState)(0),_=(e,t,a)=>{const n=[...d];n[e][t]=a,m({eventItems:n})},b=d[w]||null,C=e=>{switch(String(e).toLowerCase()){case"conférence":return"bg-conference";case"atelier":return"bg-atelier";case"assemblée":return"bg-assemblee";default:return"bg-default"}};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,a.__)("Paramètres Généraux","mon-theme-aca")},(0,t.createElement)(l.TextControl,{label:(0,a.__)("Titre de la section","mon-theme-aca"),value:s,onChange:e=>m({sectionTitle:e})}),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Sous-titre","mon-theme-aca"),value:i,onChange:e=>m({sectionSubtitle:e})})),(0,t.createElement)(l.PanelBody,{title:(0,a.__)("Options d'Affichage","mon-theme-aca")},(0,t.createElement)(l.ToggleControl,{label:(0,a.__)("Afficher le calendrier","mon-theme-aca"),checked:h,onChange:e=>m({showCalendar:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,a.__)("Afficher le type d'événement","mon-theme-aca"),checked:v,onChange:e=>m({showEventType:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,a.__)("Afficher l'heure","mon-theme-aca"),checked:p,onChange:e=>m({showTime:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,a.__)("Afficher le lieu","mon-theme-aca"),checked:u,onChange:e=>m({showLocation:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,a.__)("Afficher les participants","mon-theme-aca"),checked:g,onChange:e=>m({showParticipants:e})})),(0,t.createElement)(l.PanelBody,{title:(0,a.__)("Gestion des Événements","mon-theme-aca")},(0,t.createElement)(l.Button,{variant:"primary",onClick:()=>{const e={id:(new Date).getTime(),date:(new Date).toISOString().split("T")[0],title:(0,a.__)("Nouvel événement","mon-theme-aca"),location:"Lieu",time:"10:00 - 12:00",participants:"0",type:"Conférence",link:"#"},t=[...d,e];m({eventItems:t}),y(t.length-1)},style:{marginBottom:"1rem"}},(0,a.__)("Ajouter un événement","mon-theme-aca")),d.length>0&&b&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",borderTop:"1px solid #ddd",paddingTop:"1rem"}},(0,t.createElement)(l.Button,{onClick:()=>y((e=>(e-1+d.length)%d.length)),disabled:d.length<=1},"<"),(0,t.createElement)("strong",null,`Événement ${w+1}`),(0,t.createElement)(l.Button,{onClick:()=>y((e=>(e+1)%d.length)),disabled:d.length<=1},">")),(0,t.createElement)("div",null,(0,t.createElement)(l.TextControl,{label:(0,a.__)("Titre","mon-theme-aca"),value:b.title,onChange:e=>_(w,"title",e)}),(0,t.createElement)(l.BaseControl,{label:(0,a.__)("Date","mon-theme-aca"),id:`event-date-picker-${b.id}`},(0,t.createElement)(l.DatePicker,{currentDate:b.date,onChange:e=>_(w,"date",e.split("T")[0])})),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Lieu","mon-theme-aca"),value:b.location,onChange:e=>_(w,"location",e)}),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Heure","mon-theme-aca"),value:b.time,onChange:e=>_(w,"time",e)}),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Participants","mon-theme-aca"),value:b.participants,onChange:e=>_(w,"participants",e)}),(0,t.createElement)(l.SelectControl,{label:(0,a.__)("Type","mon-theme-aca"),value:b.type,options:[{label:"Conférence",value:"Conférence"},{label:"Atelier",value:"Atelier"},{label:"Assemblée",value:"Assemblée"},{label:"Autre",value:"Autre"}],onChange:e=>_(w,"type",e)}),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Lien","mon-theme-aca"),value:b.link,onChange:e=>_(w,"link",e)}),(0,t.createElement)(l.Button,{isDestructive:!0,style:{marginTop:"1rem"},onClick:()=>(e=>{const t=d.filter(((t,a)=>a!==e));e<=w&&y(Math.max(0,w-1)),m({eventItems:t})})(w)},(0,a.__)("Supprimer","mon-theme-aca")))))),(0,t.createElement)("div",{...E},(0,t.createElement)("section",{className:"events-container"},(0,t.createElement)("div",{className:"section-header"},(0,t.createElement)("h2",{className:"section-title"},s),(0,t.createElement)("p",{className:"section-subtitle"},i)),(0,t.createElement)("div",{className:"events-layout"},h&&(0,t.createElement)("div",{className:"calendar-wrapper"},(0,t.createElement)(o,{events:d})),(0,t.createElement)("div",{className:"events-list-wrapper"},d.map((e=>{const n=new Date(e.date);return(0,t.createElement)("div",{className:"event-card",key:e.id},(0,t.createElement)("div",{className:"event-card-date"},(0,t.createElement)("div",{className:"day"},n.getDate()||"??"),(0,t.createElement)("div",{className:"month"},n.toLocaleDateString("fr-FR",{month:"short"})||"???")),(0,t.createElement)("div",{className:"event-card-details"},(0,t.createElement)("div",{className:"event-header"},(0,t.createElement)("h3",{className:"event-title"},e.title),v&&(0,t.createElement)("span",{className:`event-type-badge ${C(e.type)}`},e.type)),(0,t.createElement)("div",{className:"event-meta"},u&&(0,t.createElement)("div",{className:"meta-item"},(0,t.createElement)(c,{type:"map"}),(0,t.createElement)("span",null,e.location)),p&&(0,t.createElement)("div",{className:"meta-item"},(0,t.createElement)(c,{type:"clock"}),(0,t.createElement)("span",null,e.time)),g&&(0,t.createElement)("div",{className:"meta-item"},(0,t.createElement)(c,{type:"users"}),(0,t.createElement)("span",null,`${e.participants} participants attendus`))),(0,t.createElement)("div",{className:"event-actions"},(0,t.createElement)(l.Button,{isPrimary:!0},(0,a.__)("S'inscrire","mon-theme-aca")),(0,t.createElement)(l.Button,{isSecondary:!0},(0,a.__)("Voir détails","mon-theme-aca")))))})))))))}})}},a={};function n(e){var l=a[e];if(void 0!==l)return l.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,a,l,r)=>{if(!a){var c=1/0;for(i=0;i<e.length;i++){for(var[a,l,r]=e[i],o=!0,m=0;m<a.length;m++)(!1&r||c>=r)&&Object.keys(n.O).every((e=>n.O[e](a[m])))?a.splice(m--,1):(o=!1,r<c&&(c=r));if(o){e.splice(i--,1);var s=l();void 0!==s&&(t=s)}}return t}r=r||0;for(var i=e.length;i>0&&e[i-1][2]>r;i--)e[i]=e[i-1];e[i]=[a,l,r]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var l,r,[c,o,m]=a,s=0;if(c.some((t=>0!==e[t]))){for(l in o)n.o(o,l)&&(n.m[l]=o[l]);if(m)var i=m(n)}for(t&&t(a);s<c.length;s++)r=c[s],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(i)},a=globalThis.webpackChunkmon_theme_aca=globalThis.webpackChunkmon_theme_aca||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=n.O(void 0,[350],(()=>n(668)));l=n.O(l)})();