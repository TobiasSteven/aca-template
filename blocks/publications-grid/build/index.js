(()=>{"use strict";const e=window.wp.blocks,t=window.React,a=window.wp.i18n,l=window.wp.blockEditor,n=window.wp.components,c=window.wp.element,o=JSON.parse('{"UU":"mon-theme-aca/publications-grid"}');(0,e.registerBlockType)(o.UU,{edit:function({attributes:e,setAttributes:o}){const{blockId:s,publications:r,documentTypes:i,themes:m,languages:u,levels:d,defaultViewMode:p,defaultSortBy:E,defaultSortOrder:b,itemsPerPage:h,backgroundColor:v,sidebarBgColor:N,mainBgColor:g,textColor:_,secondaryTextColor:y,accentColor:C,cardBgColor:f}=e,[k,x]=(0,c.useState)("publications"),[w,T]=(0,c.useState)(0),[F,S]=(0,c.useState)({id:Date.now(),title:"",type:"Guide",author:"",date:(new Date).toISOString().split("T")[0],language:"Français",level:"Intermédiaire",theme:"Production cotonnière",description:"",thumbnail:"",fileSize:"",pages:"",downloads:"0",rating:"0",tags:[],isNew:!1}),[P,B]=(0,c.useState)(""),[A,D]=(0,c.useState)(""),[R,M]=(0,c.useState)(""),[q,I]=(0,c.useState)(""),[j,$]=(0,c.useState)("");(0,c.useEffect)((()=>{s||o({blockId:`publications-grid-${Date.now()}`})}),[s,o]);const O=(0,l.useBlockProps)({className:"publications-grid-block",style:{backgroundColor:v}}),z=(e,t,a)=>{const l=[...r];l[e]={...l[e],[t]:a},o({publications:l})},L=()=>{""!==F.title.trim()&&(o({publications:[...r,{...F,id:Date.now()}]}),S({id:Date.now()+1,title:"",type:"Guide",author:"",date:(new Date).toISOString().split("T")[0],language:"Français",level:"Intermédiaire",theme:"Production cotonnière",description:"",thumbnail:"",fileSize:"",pages:"",downloads:"0",rating:"0",tags:[],isNew:!1}))},U=()=>{if(""!==P.trim()){const e=[...r[w].tags,P.trim()];z(w,"tags",e),B("")}},G=()=>{""===A.trim()||i.includes(A.trim())||(o({documentTypes:[...i,A.trim()]}),D(""))},V=()=>{""===R.trim()||m.includes(R.trim())||(o({themes:[...m,R.trim()]}),M(""))},Z=()=>{""===q.trim()||u.includes(q.trim())||(o({languages:[...u,q.trim()]}),I(""))},J=()=>{""===j.trim()||d.includes(j.trim())||(o({levels:[...d,j.trim()]}),$(""))},W=e=>{switch(e){case"Guide":return"#28A745";case"Rapport":return"#2D9B8A";case"Étude":return"#FD7E14";case"Vidéo":return"#17A2B8";case"Audio":default:return"#6C757D";case"Infographie":return"#A8E6CF"}};return(0,t.createElement)(c.Fragment,null,(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(n.TabPanel,{className:"tabs-navigation",activeClass:"active",tabs:[{name:"publications",title:(0,a.__)("Publications","mon-theme-aca")},{name:"filters",title:(0,a.__)("Filtres","mon-theme-aca")},{name:"appearance",title:(0,a.__)("Apparence","mon-theme-aca")}],onSelect:e=>x(e)},(e=>"publications"===e.name?(0,t.createElement)("div",{className:"publications-manager"},(0,t.createElement)(n.PanelBody,{title:(0,a.__)("Paramètres généraux","mon-theme-aca")},(0,t.createElement)(n.SelectControl,{label:(0,a.__)("Mode d'affichage par défaut","mon-theme-aca"),value:p,options:[{label:(0,a.__)("Grille","mon-theme-aca"),value:"grid"},{label:(0,a.__)("Liste","mon-theme-aca"),value:"list"}],onChange:e=>o({defaultViewMode:e})}),(0,t.createElement)(n.SelectControl,{label:(0,a.__)("Tri par défaut","mon-theme-aca"),value:E,options:[{label:(0,a.__)("Date","mon-theme-aca"),value:"date"},{label:(0,a.__)("Titre","mon-theme-aca"),value:"title"},{label:(0,a.__)("Téléchargements","mon-theme-aca"),value:"downloads"},{label:(0,a.__)("Note","mon-theme-aca"),value:"rating"}],onChange:e=>o({defaultSortBy:e})}),(0,t.createElement)(n.SelectControl,{label:(0,a.__)("Ordre par défaut","mon-theme-aca"),value:b,options:[{label:(0,a.__)("Décroissant","mon-theme-aca"),value:"desc"},{label:(0,a.__)("Croissant","mon-theme-aca"),value:"asc"}],onChange:e=>o({defaultSortOrder:e})}),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Publications par page","mon-theme-aca"),value:h,onChange:e=>o({itemsPerPage:e}),min:3,max:24,step:3})),(0,t.createElement)(n.PanelBody,{title:(0,a.__)("Gestion des publications","mon-theme-aca")},(0,t.createElement)("p",{className:"publications-title"},(0,a.__)("Publications existantes","mon-theme-aca")),r.length>0?(0,t.createElement)("div",{className:"publications-tabs"},r.map(((e,l)=>(0,t.createElement)("button",{key:e.id,className:"publication-tab "+(l===w?"active":""),onClick:()=>T(l)},e.title||(0,a.__)("Sans titre","mon-theme-aca"))))):(0,t.createElement)("p",{className:"no-publications"},(0,a.__)("Aucune publication ajoutée","mon-theme-aca")),r.length>0&&(0,t.createElement)("div",{className:"publication-editor"},(0,t.createElement)(n.TextControl,{label:(0,a.__)("Titre","mon-theme-aca"),value:r[w].title,onChange:e=>z(w,"title",e)}),(0,t.createElement)("div",{className:"publication-details"},(0,t.createElement)(n.SelectControl,{label:(0,a.__)("Type","mon-theme-aca"),value:r[w].type,options:i.map((e=>({label:e,value:e}))),onChange:e=>z(w,"type",e)}),(0,t.createElement)(n.TextControl,{label:(0,a.__)("Auteur","mon-theme-aca"),value:r[w].author,onChange:e=>z(w,"author",e)})),(0,t.createElement)("div",{className:"publication-details"},(0,t.createElement)(n.TextControl,{label:(0,a.__)("Date","mon-theme-aca"),type:"date",value:r[w].date,onChange:e=>z(w,"date",e)}),(0,t.createElement)(n.SelectControl,{label:(0,a.__)("Langue","mon-theme-aca"),value:r[w].language,options:u.map((e=>({label:e,value:e}))),onChange:e=>z(w,"language",e)})),(0,t.createElement)("div",{className:"publication-details"},(0,t.createElement)(n.SelectControl,{label:(0,a.__)("Niveau","mon-theme-aca"),value:r[w].level,options:d.map((e=>({label:e,value:e}))),onChange:e=>z(w,"level",e)}),(0,t.createElement)(n.SelectControl,{label:(0,a.__)("Thème","mon-theme-aca"),value:r[w].theme,options:m.map((e=>({label:e,value:e}))),onChange:e=>z(w,"theme",e)})),(0,t.createElement)(n.TextControl,{label:(0,a.__)("Description","mon-theme-aca"),value:r[w].description,onChange:e=>z(w,"description",e),multiline:!0}),(0,t.createElement)(n.TextControl,{label:(0,a.__)("URL de la vignette","mon-theme-aca"),value:r[w].thumbnail,onChange:e=>z(w,"thumbnail",e)}),(0,t.createElement)("div",{className:"publication-stats"},(0,t.createElement)(n.TextControl,{label:(0,a.__)("Taille du fichier","mon-theme-aca"),value:r[w].fileSize,onChange:e=>z(w,"fileSize",e),placeholder:"Ex: 2.5 MB"}),(0,t.createElement)(n.TextControl,{label:(0,a.__)("Pages","mon-theme-aca"),value:r[w].pages,onChange:e=>z(w,"pages",e)})),(0,t.createElement)("div",{className:"publication-stats"},(0,t.createElement)(n.TextControl,{label:(0,a.__)("Téléchargements","mon-theme-aca"),value:r[w].downloads,onChange:e=>z(w,"downloads",e)}),(0,t.createElement)(n.TextControl,{label:(0,a.__)("Note","mon-theme-aca"),value:r[w].rating,onChange:e=>z(w,"rating",e),placeholder:"Ex: 4.8"})),(0,t.createElement)("div",{className:"tags-editor"},(0,t.createElement)("p",{className:"tags-title"},(0,a.__)("Tags","mon-theme-aca")),(0,t.createElement)("div",{className:"tags-list"},r[w].tags.map(((e,a)=>(0,t.createElement)("div",{key:a,className:"tag-item"},(0,t.createElement)("span",null,e),(0,t.createElement)(n.Button,{isSmall:!0,isDestructive:!0,icon:"no-alt",onClick:()=>(e=>{const t=r[w].tags.filter(((t,a)=>a!==e));z(w,"tags",t)})(a)}))))),(0,t.createElement)("div",{className:"add-tag"},(0,t.createElement)(n.TextControl,{value:P,onChange:e=>B(e),placeholder:(0,a.__)("Nouveau tag...","mon-theme-aca")}),(0,t.createElement)(n.Button,{isPrimary:!0,onClick:U,disabled:!P.trim()},(0,a.__)("Ajouter","mon-theme-aca")))),(0,t.createElement)(n.ToggleControl,{label:(0,a.__)("Marquer comme nouveau","mon-theme-aca"),checked:r[w].isNew,onChange:e=>z(w,"isNew",e)}),(0,t.createElement)(n.Button,{isDestructive:!0,onClick:()=>(e=>{const t=[...r];t.splice(e,1),o({publications:t}),w>=t.length&&T(Math.max(0,t.length-1))})(w)},(0,a.__)("Supprimer cette publication","mon-theme-aca"))),(0,t.createElement)("div",{className:"add-publication"},(0,t.createElement)("p",{className:"add-publication-title"},(0,a.__)("Ajouter une publication","mon-theme-aca")),(0,t.createElement)(n.TextControl,{placeholder:(0,a.__)("Titre de la publication","mon-theme-aca"),value:F.title,onChange:e=>S({...F,title:e})}),(0,t.createElement)("div",{className:"publication-details"},(0,t.createElement)(n.SelectControl,{placeholder:(0,a.__)("Type","mon-theme-aca"),value:F.type,options:i.map((e=>({label:e,value:e}))),onChange:e=>S({...F,type:e})}),(0,t.createElement)(n.TextControl,{placeholder:(0,a.__)("Auteur","mon-theme-aca"),value:F.author,onChange:e=>S({...F,author:e})})),(0,t.createElement)(n.Button,{isPrimary:!0,onClick:L,disabled:!F.title.trim()},(0,a.__)("Ajouter","mon-theme-aca"))))):"filters"===e.name?(0,t.createElement)("div",{className:"filters-manager"},(0,t.createElement)(n.PanelBody,{title:(0,a.__)("Types de documents","mon-theme-aca")},(0,t.createElement)("div",{className:"filter-section"},(0,t.createElement)("p",{className:"filter-title"},(0,a.__)("Types existants","mon-theme-aca")),(0,t.createElement)("div",{className:"filter-items"},i.map(((e,a)=>(0,t.createElement)("div",{key:a,className:"filter-item"},(0,t.createElement)("span",null,e),(0,t.createElement)(n.Button,{isSmall:!0,isDestructive:!0,icon:"no-alt",onClick:()=>(e=>{o({documentTypes:i.filter((t=>t!==e))})})(e)}))))),(0,t.createElement)("div",{className:"add-filter"},(0,t.createElement)(n.TextControl,{value:A,onChange:e=>D(e),placeholder:(0,a.__)("Nouveau type...","mon-theme-aca")}),(0,t.createElement)(n.Button,{isPrimary:!0,onClick:G,disabled:!A.trim()},(0,a.__)("Ajouter","mon-theme-aca"))))),(0,t.createElement)(n.PanelBody,{title:(0,a.__)("Thématiques","mon-theme-aca")},(0,t.createElement)("div",{className:"filter-section"},(0,t.createElement)("p",{className:"filter-title"},(0,a.__)("Thèmes existants","mon-theme-aca")),(0,t.createElement)("div",{className:"filter-items"},m.map(((e,a)=>(0,t.createElement)("div",{key:a,className:"filter-item"},(0,t.createElement)("span",null,e),(0,t.createElement)(n.Button,{isSmall:!0,isDestructive:!0,icon:"no-alt",onClick:()=>(e=>{o({themes:m.filter((t=>t!==e))})})(e)}))))),(0,t.createElement)("div",{className:"add-filter"},(0,t.createElement)(n.TextControl,{value:R,onChange:e=>M(e),placeholder:(0,a.__)("Nouveau thème...","mon-theme-aca")}),(0,t.createElement)(n.Button,{isPrimary:!0,onClick:V,disabled:!R.trim()},(0,a.__)("Ajouter","mon-theme-aca"))))),(0,t.createElement)(n.PanelBody,{title:(0,a.__)("Langues","mon-theme-aca")},(0,t.createElement)("div",{className:"filter-section"},(0,t.createElement)("p",{className:"filter-title"},(0,a.__)("Langues existantes","mon-theme-aca")),(0,t.createElement)("div",{className:"filter-items"},u.map(((e,a)=>(0,t.createElement)("div",{key:a,className:"filter-item"},(0,t.createElement)("span",null,e),(0,t.createElement)(n.Button,{isSmall:!0,isDestructive:!0,icon:"no-alt",onClick:()=>(e=>{o({languages:u.filter((t=>t!==e))})})(e)}))))),(0,t.createElement)("div",{className:"add-filter"},(0,t.createElement)(n.TextControl,{value:q,onChange:e=>I(e),placeholder:(0,a.__)("Nouvelle langue...","mon-theme-aca")}),(0,t.createElement)(n.Button,{isPrimary:!0,onClick:Z,disabled:!q.trim()},(0,a.__)("Ajouter","mon-theme-aca"))))),(0,t.createElement)(n.PanelBody,{title:(0,a.__)("Niveaux","mon-theme-aca")},(0,t.createElement)("div",{className:"filter-section"},(0,t.createElement)("p",{className:"filter-title"},(0,a.__)("Niveaux existants","mon-theme-aca")),(0,t.createElement)("div",{className:"filter-items"},d.map(((e,a)=>(0,t.createElement)("div",{key:a,className:"filter-item"},(0,t.createElement)("span",null,e),(0,t.createElement)(n.Button,{isSmall:!0,isDestructive:!0,icon:"no-alt",onClick:()=>(e=>{o({levels:d.filter((t=>t!==e))})})(e)}))))),(0,t.createElement)("div",{className:"add-filter"},(0,t.createElement)(n.TextControl,{value:j,onChange:e=>$(e),placeholder:(0,a.__)("Nouveau niveau...","mon-theme-aca")}),(0,t.createElement)(n.Button,{isPrimary:!0,onClick:J,disabled:!j.trim()},(0,a.__)("Ajouter","mon-theme-aca")))))):"appearance"===e.name?(0,t.createElement)("div",null,(0,t.createElement)(n.PanelBody,{title:(0,a.__)("Couleurs","mon-theme-aca")},(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur de fond générale","mon-theme-aca")),(0,t.createElement)(n.ColorPicker,{color:v,onChange:e=>o({backgroundColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur de fond de la barre latérale","mon-theme-aca")),(0,t.createElement)(n.ColorPicker,{color:N,onChange:e=>o({sidebarBgColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur de fond de la zone principale","mon-theme-aca")),(0,t.createElement)(n.ColorPicker,{color:g,onChange:e=>o({mainBgColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur du texte principal","mon-theme-aca")),(0,t.createElement)(n.ColorPicker,{color:_,onChange:e=>o({textColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur du texte secondaire","mon-theme-aca")),(0,t.createElement)(n.ColorPicker,{color:y,onChange:e=>o({secondaryTextColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur d'accent","mon-theme-aca")),(0,t.createElement)(n.ColorPicker,{color:C,onChange:e=>o({accentColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"color-option"},(0,t.createElement)("label",null,(0,a.__)("Couleur de fond des cartes","mon-theme-aca")),(0,t.createElement)(n.ColorPicker,{color:f,onChange:e=>o({cardBgColor:e}),enableAlpha:!0})))):void 0))),(0,t.createElement)("div",{...O},(0,t.createElement)("div",{className:"publications-grid-container"},(0,t.createElement)("div",{className:"publications-layout"},(0,t.createElement)("div",{className:"publications-sidebar",style:{backgroundColor:N}},(0,t.createElement)("div",{className:"sidebar-content"},(0,t.createElement)("h3",{className:"sidebar-title",style:{color:_}},(0,a.__)("Filtres","mon-theme-aca")),(0,t.createElement)("div",{className:"filter-group"},(0,t.createElement)("h4",{className:"filter-title",style:{color:_}},(0,a.__)("Recherche Avancée","mon-theme-aca")),(0,t.createElement)("div",{className:"radio-options"},(0,t.createElement)("label",{className:"radio-label"},(0,t.createElement)("input",{type:"radio",name:"searchType",defaultChecked:!0}),(0,t.createElement)("span",{style:{color:y}},(0,a.__)("Recherche globale","mon-theme-aca"))),(0,t.createElement)("label",{className:"radio-label"},(0,t.createElement)("input",{type:"radio",name:"searchType"}),(0,t.createElement)("span",{style:{color:y}},(0,a.__)("Titre uniquement","mon-theme-aca"))),(0,t.createElement)("label",{className:"radio-label"},(0,t.createElement)("input",{type:"radio",name:"searchType"}),(0,t.createElement)("span",{style:{color:y}},(0,a.__)("Correspondance exacte","mon-theme-aca"))))),(0,t.createElement)("div",{className:"filter-group"},(0,t.createElement)("h4",{className:"filter-title",style:{color:_}},(0,a.__)("Types de documents","mon-theme-aca")),(0,t.createElement)("div",{className:"checkbox-options"},i.map(((e,a)=>(0,t.createElement)("label",{key:a,className:"checkbox-label"},(0,t.createElement)("input",{type:"checkbox",className:"filter-checkbox"}),(0,t.createElement)("span",{className:"checkbox-icon",style:{backgroundColor:W(e),width:"1rem",height:"1rem",borderRadius:"50%",display:"inline-block",marginRight:"0.5rem"}}),(0,t.createElement)("span",{style:{color:y}},e)))))),(0,t.createElement)("div",{className:"filter-group"},(0,t.createElement)("h4",{className:"filter-title",style:{color:_}},(0,a.__)("Thématiques","mon-theme-aca")),(0,t.createElement)("div",{className:"checkbox-options scrollable"},m.map(((e,a)=>(0,t.createElement)("label",{key:a,className:"checkbox-label"},(0,t.createElement)("input",{type:"checkbox",className:"filter-checkbox"}),(0,t.createElement)("span",{style:{color:y}},e)))))),(0,t.createElement)("div",{className:"filter-group"},(0,t.createElement)("h4",{className:"filter-title",style:{color:_}},(0,a.__)("Niveau","mon-theme-aca")),(0,t.createElement)("div",{className:"checkbox-options"},d.map(((e,a)=>(0,t.createElement)("label",{key:a,className:"checkbox-label"},(0,t.createElement)("input",{type:"checkbox",className:"filter-checkbox"}),(0,t.createElement)("span",{style:{color:"Débutant"===e?"#28A745":"Intermédiaire"===e?"#FD7E14":"Expert"===e?"#DC3545":y,fontWeight:"500"}},e)))))),(0,t.createElement)("div",{className:"library-section",style:{backgroundColor:"rgba(248, 249, 250, 0.5)"}},(0,t.createElement)("h4",{className:"filter-title",style:{color:_}},(0,a.__)("Ma Bibliothèque","mon-theme-aca")),(0,t.createElement)("div",{className:"library-links"},(0,t.createElement)("a",{href:"#",style:{color:C}},(0,a.__)("Mes favoris (12)","mon-theme-aca")),(0,t.createElement)("a",{href:"#",style:{color:C}},(0,a.__)("Téléchargements (8)","mon-theme-aca")),(0,t.createElement)("a",{href:"#",style:{color:C}},(0,a.__)("Recommandations (5)","mon-theme-aca")))),(0,t.createElement)("button",{className:"reset-filters-button",style:{borderColor:C,color:C}},(0,a.__)("Réinitialiser les filtres","mon-theme-aca")))),(0,t.createElement)("div",{className:"publications-main",style:{backgroundColor:g}},(0,t.createElement)("div",{className:"publications-controls"},(0,t.createElement)("div",{className:"controls-left"},(0,t.createElement)("button",{className:"filter-button",style:{borderColor:C,color:C}},(0,t.createElement)("span",{className:"filter-icon"}),(0,t.createElement)("span",null,(0,a.__)("Filtres","mon-theme-aca"))),(0,t.createElement)("span",{className:"results-count",style:{color:y}},r.length," ",(0,a.__)("ressources trouvées","mon-theme-aca"))),(0,t.createElement)("div",{className:"controls-right"},(0,t.createElement)("select",{className:"sort-select"},(0,t.createElement)("option",{value:"date-desc"},(0,a.__)("Plus récent","mon-theme-aca")),(0,t.createElement)("option",{value:"date-asc"},(0,a.__)("Plus ancien","mon-theme-aca")),(0,t.createElement)("option",{value:"downloads-desc"},(0,a.__)("Plus téléchargé","mon-theme-aca")),(0,t.createElement)("option",{value:"rating-desc"},(0,a.__)("Mieux noté","mon-theme-aca")),(0,t.createElement)("option",{value:"title-asc"},(0,a.__)("Alphabétique (A-Z)","mon-theme-aca")),(0,t.createElement)("option",{value:"title-desc"},(0,a.__)("Alphabétique (Z-A)","mon-theme-aca"))),(0,t.createElement)("div",{className:"view-controls"},(0,t.createElement)("button",{className:"view-button "+("grid"===p?"active":""),style:{backgroundColor:"grid"===p?C:"transparent",color:"grid"===p?"#FFFFFF":y}},(0,t.createElement)("span",{className:"grid-icon"})),(0,t.createElement)("button",{className:"view-button "+("list"===p?"active":""),style:{backgroundColor:"list"===p?C:"transparent",color:"list"===p?"#FFFFFF":y}},(0,t.createElement)("span",{className:"list-icon"}))))),(0,t.createElement)("div",{className:`publications-view ${p}-view`},0===r.length?(0,t.createElement)("div",{className:"no-publications"},(0,t.createElement)("p",null,(0,a.__)("Aucune publication ajoutée. Utilisez le panneau de droite pour ajouter des publications.","mon-theme-aca"))):"grid"===p?r.slice(0,6).map((e=>(0,t.createElement)("div",{key:e.id,className:"publication-card",style:{backgroundColor:f}},(0,t.createElement)("div",{className:"publication-thumbnail"},e.thumbnail?(0,t.createElement)("img",{src:e.thumbnail,alt:e.title,className:"thumbnail-image"}):(0,t.createElement)("div",{className:"thumbnail-placeholder",style:{backgroundColor:W(e.type)}},(0,t.createElement)("span",{className:"placeholder-icon file-text-icon"})),(0,t.createElement)("div",{className:"publication-badges"},(0,t.createElement)("span",{className:"type-badge",style:{backgroundColor:W(e.type)}},e.type),e.isNew&&(0,t.createElement)("span",{className:"new-badge"},(0,a.__)("Nouveau","mon-theme-aca")))),(0,t.createElement)("div",{className:"publication-content"},(0,t.createElement)("div",{className:"publication-meta",style:{color:y}},(0,t.createElement)("span",{className:"publication-author"},e.author),(0,t.createElement)("span",{className:"meta-separator"},"•"),(0,t.createElement)("span",{className:"publication-date"},new Date(e.date).toLocaleDateString("fr-FR"))),(0,t.createElement)("h3",{className:"publication-title",style:{color:_}},e.title),(0,t.createElement)("p",{className:"publication-excerpt",style:{color:y}},e.description),(0,t.createElement)("div",{className:"publication-footer"},(0,t.createElement)("div",{className:"publication-stats"},(0,t.createElement)("span",{className:"stat-item downloads",style:{color:y}},(0,t.createElement)("span",{className:"stat-icon download-icon"}),(0,t.createElement)("span",{className:"stat-value"},e.downloads)),(0,t.createElement)("span",{className:"stat-item rating",style:{color:y}},(0,t.createElement)("span",{className:"stat-icon star-icon"}),(0,t.createElement)("span",{className:"stat-value"},e.rating))),(0,t.createElement)("div",{className:"publication-actions"},(0,t.createElement)("button",{className:"action-button view-button"},(0,t.createElement)("span",{className:"action-icon eye-icon"})),(0,t.createElement)("button",{className:"action-button download-button"},(0,t.createElement)("span",{className:"action-icon download-icon"})),(0,t.createElement)("button",{className:"action-button bookmark-button"},(0,t.createElement)("span",{className:"action-icon bookmark-icon"})))))))):r.slice(0,6).map((e=>(0,t.createElement)("div",{key:e.id,className:"publication-list-item"},(0,t.createElement)("div",{className:"list-item-type",style:{backgroundColor:W(e.type)}},(0,t.createElement)("span",{className:"type-icon file-text-icon"})),(0,t.createElement)("div",{className:"list-item-content"},(0,t.createElement)("div",{className:"list-item-header"},(0,t.createElement)("h3",{className:"list-item-title",style:{color:_}},e.title),(0,t.createElement)("div",{className:"list-item-badges"},e.isNew&&(0,t.createElement)("span",{className:"new-badge"},(0,a.__)("Nouveau","mon-theme-aca")),(0,t.createElement)("span",{className:"type-badge",style:{backgroundColor:W(e.type)}},e.type))),(0,t.createElement)("div",{className:"list-item-meta",style:{color:y}},(0,t.createElement)("span",null,e.author),(0,t.createElement)("span",{className:"meta-separator"},"•"),(0,t.createElement)("span",null,new Date(e.date).toLocaleDateString("fr-FR")),(0,t.createElement)("span",{className:"meta-separator"},"•"),(0,t.createElement)("span",{style:{color:"Débutant"===e.level?"#28A745":"Intermédiaire"===e.level?"#FD7E14":"Expert"===e.level?"#DC3545":y}},e.level),(0,t.createElement)("span",{className:"meta-separator"},"•"),(0,t.createElement)("span",null,e.fileSize)),(0,t.createElement)("p",{className:"list-item-description",style:{color:y}},e.description),(0,t.createElement)("div",{className:"list-item-footer"},(0,t.createElement)("div",{className:"list-item-stats"},(0,t.createElement)("span",{className:"stat-item downloads",style:{color:y}},(0,t.createElement)("span",{className:"stat-icon download-icon"}),(0,t.createElement)("span",{className:"stat-value"},e.downloads," téléchargements")),(0,t.createElement)("span",{className:"stat-item rating",style:{color:y}},(0,t.createElement)("span",{className:"stat-icon star-icon"}),(0,t.createElement)("span",{className:"stat-value"},e.rating))),(0,t.createElement)("div",{className:"list-item-actions"},(0,t.createElement)("button",{className:"action-button download-button",style:{backgroundColor:C,color:"#FFFFFF"}},(0,a.__)("Télécharger","mon-theme-aca")),(0,t.createElement)("button",{className:"action-button view-button",style:{borderColor:C,color:C}},(0,a.__)("Aperçu","mon-theme-aca"))))))))),(0,t.createElement)("div",{className:"publications-pagination"},(0,t.createElement)("div",{className:"pagination-controls"},(0,t.createElement)("button",{className:"pagination-button prev-button"},(0,a.__)("Précédent","mon-theme-aca")),(0,t.createElement)("div",{className:"pagination-numbers"},(0,t.createElement)("button",{className:"pagination-number active",style:{backgroundColor:C,color:"#FFFFFF"}},"1"),(0,t.createElement)("button",{className:"pagination-number"},"2"),(0,t.createElement)("button",{className:"pagination-number"},"3"),(0,t.createElement)("span",{className:"pagination-ellipsis"},"..."),(0,t.createElement)("button",{className:"pagination-number"},Math.ceil(r.length/h))),(0,t.createElement)("button",{className:"pagination-button next-button"},(0,a.__)("Suivant","mon-theme-aca")))))))))},save:function({attributes:e}){const{blockId:a,publications:n,documentTypes:c,themes:o,languages:s,levels:r,defaultViewMode:i,defaultSortBy:m,defaultSortOrder:u,itemsPerPage:d,backgroundColor:p,sidebarBgColor:E,mainBgColor:b,textColor:h,secondaryTextColor:v,accentColor:N,cardBgColor:g}=e,_=l.useBlockProps.save({className:"publications-grid-block",style:{backgroundColor:p}}),y=JSON.stringify(n);return(0,t.createElement)("div",{..._,id:a,"data-default-view":i,"data-default-sort":m,"data-default-order":u,"data-items-per-page":d},(0,t.createElement)("input",{type:"hidden",id:`${a}-data`,value:y}),(0,t.createElement)("div",{className:"publications-grid-container"},(0,t.createElement)("div",{className:"publications-layout"},(0,t.createElement)("div",{className:"publications-sidebar",style:{backgroundColor:E}},(0,t.createElement)("div",{className:"sidebar-content"},(0,t.createElement)("h3",{className:"sidebar-title",style:{color:h}},"Filtres"),(0,t.createElement)("div",{className:"filter-group"},(0,t.createElement)("h4",{className:"filter-title",style:{color:h}},"Recherche Avancée"),(0,t.createElement)("div",{className:"radio-options"},(0,t.createElement)("label",{className:"radio-label"},(0,t.createElement)("input",{type:"radio",name:"searchType",value:"global",defaultChecked:!0}),(0,t.createElement)("span",{style:{color:v}},"Recherche globale")),(0,t.createElement)("label",{className:"radio-label"},(0,t.createElement)("input",{type:"radio",name:"searchType",value:"title"}),(0,t.createElement)("span",{style:{color:v}},"Titre uniquement")),(0,t.createElement)("label",{className:"radio-label"},(0,t.createElement)("input",{type:"radio",name:"searchType",value:"exact"}),(0,t.createElement)("span",{style:{color:v}},"Correspondance exacte")))),(0,t.createElement)("div",{className:"filter-group"},(0,t.createElement)("h4",{className:"filter-title",style:{color:h}},"Types de documents"),(0,t.createElement)("div",{className:"checkbox-options"},c.map(((e,a)=>(0,t.createElement)("label",{key:a,className:"checkbox-label"},(0,t.createElement)("input",{type:"checkbox",className:"filter-checkbox",name:"types[]",value:e}),(0,t.createElement)("span",{className:"checkbox-icon","data-type":e}),(0,t.createElement)("span",{style:{color:v}},e)))))),(0,t.createElement)("div",{className:"filter-group"},(0,t.createElement)("h4",{className:"filter-title",style:{color:h}},"Thématiques"),(0,t.createElement)("div",{className:"checkbox-options scrollable"},o.map(((e,a)=>(0,t.createElement)("label",{key:a,className:"checkbox-label"},(0,t.createElement)("input",{type:"checkbox",className:"filter-checkbox",name:"themes[]",value:e}),(0,t.createElement)("span",{style:{color:v}},e)))))),(0,t.createElement)("div",{className:"filter-group"},(0,t.createElement)("h4",{className:"filter-title",style:{color:h}},"Niveau"),(0,t.createElement)("div",{className:"checkbox-options"},r.map(((e,a)=>(0,t.createElement)("label",{key:a,className:"checkbox-label"},(0,t.createElement)("input",{type:"checkbox",className:"filter-checkbox",name:"levels[]",value:e}),(0,t.createElement)("span",{className:"level-label","data-level":e},e)))))),(0,t.createElement)("div",{className:"library-section",style:{backgroundColor:"rgba(248, 249, 250, 0.5)"}},(0,t.createElement)("h4",{className:"filter-title",style:{color:h}},"Ma Bibliothèque"),(0,t.createElement)("div",{className:"library-links"},(0,t.createElement)("a",{href:"#",style:{color:N}},"Mes favoris (12)"),(0,t.createElement)("a",{href:"#",style:{color:N}},"Téléchargements (8)"),(0,t.createElement)("a",{href:"#",style:{color:N}},"Recommandations (5)"))),(0,t.createElement)("button",{className:"reset-filters-button",style:{borderColor:N,color:N}},"Réinitialiser les filtres"))),(0,t.createElement)("div",{className:"publications-main",style:{backgroundColor:b}},(0,t.createElement)("div",{className:"publications-controls"},(0,t.createElement)("div",{className:"controls-left"},(0,t.createElement)("button",{className:"filter-button",style:{borderColor:N,color:N}},(0,t.createElement)("span",{className:"filter-icon"}),(0,t.createElement)("span",null,"Filtres")),(0,t.createElement)("span",{className:"results-count",style:{color:v}},(0,t.createElement)("span",{id:`${a}-count`},n.length)," ressources trouvées")),(0,t.createElement)("div",{className:"controls-right"},(0,t.createElement)("select",{id:`${a}-sort`,className:"sort-select"},(0,t.createElement)("option",{value:"date-desc"},"Plus récent"),(0,t.createElement)("option",{value:"date-asc"},"Plus ancien"),(0,t.createElement)("option",{value:"downloads-desc"},"Plus téléchargé"),(0,t.createElement)("option",{value:"rating-desc"},"Mieux noté"),(0,t.createElement)("option",{value:"title-asc"},"Alphabétique (A-Z)"),(0,t.createElement)("option",{value:"title-desc"},"Alphabétique (Z-A)")),(0,t.createElement)("div",{className:"view-controls"},(0,t.createElement)("button",{id:`${a}-grid-view`,className:"view-button "+("grid"===i?"active":""),"data-view":"grid",style:{backgroundColor:"grid"===i?N:"transparent",color:"grid"===i?"#FFFFFF":v}},(0,t.createElement)("span",{className:"grid-icon"})),(0,t.createElement)("button",{id:`${a}-list-view`,className:"view-button "+("list"===i?"active":""),"data-view":"list",style:{backgroundColor:"list"===i?N:"transparent",color:"list"===i?"#FFFFFF":v}},(0,t.createElement)("span",{className:"list-icon"}))))),(0,t.createElement)("div",{id:`${a}-container`,className:"publications-view "+("grid"===i?"grid-view":"list-view")},(0,t.createElement)("div",{className:"publications-loading"},(0,t.createElement)("div",{className:"loading-spinner"}),(0,t.createElement)("p",null,"Chargement des publications..."))),(0,t.createElement)("div",{id:`${a}-pagination`,className:"publications-pagination"})))))}})})();