(()=>{"use strict";var e,t={566:()=>{const e=window.wp.blocks,t=window.React,a=window.wp.i18n,n=window.wp.blockEditor,l=window.wp.components,r=window.wp.element,o=JSON.parse('{"UU":"mon-theme-aca/recent-news"}');(0,e.registerBlockType)(o.UU,{edit:function({attributes:e,setAttributes:o}){const{sectionTitle:c,sectionSubtitle:m,newsItems:i,showCategory:s,showDate:h,showReadTime:d,showReadMore:g}=e,u=(0,n.useBlockProps)(),[p,_]=(0,r.useState)(0),E=(e,t,a)=>{const n=[...i];n[e][t]=a,o({newsItems:n})},w=i[p]||null;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,a.__)("Paramètres de la Section","mon-theme-aca")},(0,t.createElement)(l.TextControl,{label:(0,a.__)("Titre","mon-theme-aca"),value:c,onChange:e=>o({sectionTitle:e})}),(0,t.createElement)(l.TextareaControl,{label:(0,a.__)("Sous-titre","mon-theme-aca"),value:m,onChange:e=>o({sectionSubtitle:e})})),(0,t.createElement)(l.PanelBody,{title:(0,a.__)("Affichage des éléments","mon-theme-aca"),initialOpen:!0},(0,t.createElement)(l.ToggleControl,{label:(0,a.__)("Afficher la catégorie","mon-theme-aca"),checked:s,onChange:e=>o({showCategory:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,a.__)("Afficher la date","mon-theme-aca"),checked:h,onChange:e=>o({showDate:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,a.__)("Afficher le temps de lecture","mon-theme-aca"),checked:d,onChange:e=>o({showReadTime:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,a.__)('Afficher le bouton "Lire plus"',"mon-theme-aca"),checked:g,onChange:e=>o({showReadMore:e})})),(0,t.createElement)(l.PanelBody,{title:(0,a.__)("Gestion des Actualités","mon-theme-aca")},(0,t.createElement)(l.Button,{variant:"primary",onClick:()=>{const e={id:(new Date).getTime(),image:"",category:(0,a.__)("Catégorie","mon-theme-aca"),date:(new Date).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}),title:(0,a.__)("Nouveau Titre","mon-theme-aca"),excerpt:(0,a.__)("Court extrait de l'actualité...","mon-theme-aca"),readTime:"4 min",link:"#"},t=[...i,e];o({newsItems:t}),_(t.length-1)},style:{marginBottom:"1rem"}},(0,a.__)("Ajouter une actualité","mon-theme-aca")),i.length>0&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"}},(0,t.createElement)(l.Button,{onClick:()=>_((e=>(e-1+i.length)%i.length)),disabled:i.length<=1},"<"),(0,t.createElement)("span",null,`${p+1} / ${i.length}`),(0,t.createElement)(l.Button,{onClick:()=>_((e=>(e+1)%i.length)),disabled:i.length<=1},">")),w&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.BaseControl,{label:(0,a.__)("Image","mon-theme-aca"),id:`media-upload-${w.id}`},(0,t.createElement)(n.MediaUploadCheck,null,w.image&&(0,t.createElement)("img",{src:w.image,alt:"",style:{width:"100%",marginBottom:"8px"}}),(0,t.createElement)(n.MediaUpload,{onSelect:e=>E(p,"image",e.url),allowedTypes:["image"],value:w.image,render:({open:e})=>(0,t.createElement)(l.Button,{onClick:e,variant:w.image?"secondary":"primary"},w.image?(0,a.__)("Changer","mon-theme-aca"):(0,a.__)("Sélectionner","mon-theme-aca"))}))),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Catégorie","mon-theme-aca"),value:w.category,onChange:e=>E(p,"category",e)}),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Date","mon-theme-aca"),value:w.date,onChange:e=>E(p,"date",e)}),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Titre","mon-theme-aca"),value:w.title,onChange:e=>E(p,"title",e)}),(0,t.createElement)(l.TextareaControl,{label:(0,a.__)("Extrait","mon-theme-aca"),value:w.excerpt,onChange:e=>E(p,"excerpt",e)}),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Temps de lecture","mon-theme-aca"),value:w.readTime,onChange:e=>E(p,"readTime",e)}),(0,t.createElement)(l.TextControl,{label:(0,a.__)("Lien","mon-theme-aca"),value:w.link,onChange:e=>E(p,"link",e)}),(0,t.createElement)(l.Button,{isDestructive:!0,style:{marginTop:"1rem"},onClick:()=>(e=>{const t=i.filter(((t,a)=>a!==e));e<=p&&_(Math.max(0,p-1)),o({newsItems:t})})(p)},(0,a.__)("Supprimer","mon-theme-aca")))))),(0,t.createElement)("div",{...u,className:"recent-news-editor-preview"},(0,t.createElement)("div",{className:"section-header"},(0,t.createElement)(n.RichText,{tagName:"h2",className:"section-title",value:c,onChange:e=>o({sectionTitle:e}),placeholder:(0,a.__)("Titre...","mon-theme-aca")}),(0,t.createElement)(n.RichText,{tagName:"p",className:"section-subtitle",value:m,onChange:e=>o({sectionSubtitle:e}),placeholder:(0,a.__)("Sous-titre...","mon-theme-aca")})),(0,t.createElement)("div",{className:"news-grid"},i.map((e=>(0,t.createElement)("article",{key:e.id,className:"news-article group"},(0,t.createElement)("div",{className:"image-container"},e.image?(0,t.createElement)("img",{src:e.image,alt:e.title,className:"news-image"}):(0,t.createElement)("div",{className:"placeholder-image"},"Image"),s&&(0,t.createElement)("div",{className:"category-badge-wrapper"},(0,t.createElement)("span",{className:"category-badge"},e.category)),h&&(0,t.createElement)("div",{className:"date-badge-wrapper"},(0,t.createElement)("span",{className:"date-badge"},e.date))),(0,t.createElement)("div",{className:"content-container"},(0,t.createElement)("h3",{className:"news-title"},e.title),(0,t.createElement)("p",{className:"news-excerpt"},e.excerpt),(0,t.createElement)("div",{className:"meta-container"},d&&(0,t.createElement)("span",{className:"read-time"},e.readTime," de lecture"),g&&(0,t.createElement)("span",{className:"read-more-button"},"Lire plus")))))))))}})}},a={};function n(e){var l=a[e];if(void 0!==l)return l.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,a,l,r)=>{if(!a){var o=1/0;for(s=0;s<e.length;s++){for(var[a,l,r]=e[s],c=!0,m=0;m<a.length;m++)(!1&r||o>=r)&&Object.keys(n.O).every((e=>n.O[e](a[m])))?a.splice(m--,1):(c=!1,r<o&&(o=r));if(c){e.splice(s--,1);var i=l();void 0!==i&&(t=i)}}return t}r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[a,l,r]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var l,r,[o,c,m]=a,i=0;if(o.some((t=>0!==e[t]))){for(l in c)n.o(c,l)&&(n.m[l]=c[l]);if(m)var s=m(n)}for(t&&t(a);i<o.length;i++)r=o[i],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(s)},a=globalThis.webpackChunkmon_theme_aca=globalThis.webpackChunkmon_theme_aca||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=n.O(void 0,[350],(()=>n(566)));l=n.O(l)})();