(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,n=window.React,r=window.wp.blockEditor,a=window.wp.components,o=window.wp.element,l=JSON.parse('{"UU":"mon-theme-aca/partners"}');(0,e.registerBlockType)(l.UU,{edit:function({attributes:e,setAttributes:l}){const{title:i,partners:d,backgroundColor:s,showBorders:c}=e,[m,p]=(0,o.useState)(null),u=(0,r.useBlockProps)({className:"partners-block-editor",style:{backgroundColor:s,margin:"0 auto",width:"100%",maxWidth:"100%"}}),g=(e,t,n)=>{const r=[...d];r[e][t]=n,l({partners:r})};return(0,n.createElement)("div",{...u},(0,n.createElement)(r.InspectorControls,null,(0,n.createElement)(a.PanelBody,{title:(0,t.__)("ParamÃ¨tres gÃ©nÃ©raux","mon-theme-aca")},(0,n.createElement)(a.TextControl,{label:(0,t.__)("Titre","mon-theme-aca"),value:i,onChange:e=>l({title:e})}),(0,n.createElement)(a.ToggleControl,{label:(0,t.__)("Afficher les bordures","mon-theme-aca"),checked:c,onChange:e=>l({showBorders:e})}),(0,n.createElement)("div",{style:{marginBottom:"16px"}},(0,n.createElement)("label",null,(0,t.__)("Couleur de fond","mon-theme-aca")),(0,n.createElement)(a.ColorPicker,{color:s,onChange:e=>l({backgroundColor:e})}))),(0,n.createElement)(a.PanelBody,{title:(0,t.__)("Gestion des partenaires","mon-theme-aca")},(0,n.createElement)(a.Button,{isPrimary:!0,onClick:()=>{const e=[...d,{id:Date.now(),url:"",alt:"",link:""}];l({partners:e})},style:{marginBottom:"16px"}},(0,t.__)("Ajouter un partenaire","mon-theme-aca")),d.map(((e,r)=>(0,n.createElement)("div",{key:e.id,style:{marginBottom:"20px",padding:"16px",border:"1px solid #ddd",borderRadius:"4px"}},(0,n.createElement)("h4",null,(0,t.__)("Partenaire","mon-theme-aca")," ",r+1),(0,n.createElement)(a.TextControl,{label:(0,t.__)("Texte alternatif","mon-theme-aca"),value:e.alt,onChange:e=>g(r,"alt",e)}),(0,n.createElement)(a.TextControl,{label:(0,t.__)("Lien (optionnel)","mon-theme-aca"),value:e.link,onChange:e=>g(r,"link",e),placeholder:"https://"}),(0,n.createElement)(a.Button,{isDestructive:!0,onClick:()=>(e=>{const t=d.filter(((t,n)=>n!==e));l({partners:t})})(r),style:{marginTop:"8px"}},(0,t.__)("Supprimer","mon-theme-aca"))))))),"            ",(0,n.createElement)("div",{className:"partners-section-editor",style:{padding:"40px 20px",textAlign:"center",border:c?"5px solid #e0e0e0":"none",borderTop:c?"5px solid #e0e0e0":"none",borderBottom:c?"5px solid #e0e0e0":"none",width:"100%",margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center"}},(0,n.createElement)("div",{className:"partners-content-editor",style:{width:"100%",maxWidth:"1200px",margin:"0 auto"}},(0,n.createElement)("h2",{style:{fontSize:"2.5em",fontWeight:"bold",color:"#343A40",marginBottom:"40px"}},i),d.length>4?(0,n.createElement)("div",{style:{textAlign:"center"}},(0,n.createElement)("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"2px dashed #2D9B8A"}},(0,n.createElement)("p",{style:{color:"#2D9B8A",fontWeight:"bold",margin:0}},"ðŸŽ  Mode Slider ActivÃ© (",d.length," partenaires)"),(0,n.createElement)("p",{style:{color:"#6C757D",fontSize:"14px",margin:"5px 0 0 0"}},"Les partenaires dÃ©fileront automatiquement sur le frontend")),(0,n.createElement)("div",{className:"partners-logos-editor",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"20px",maxHeight:"200px",overflow:"hidden"}},d.slice(0,4).map(((e,t)=>(0,n.createElement)("div",{key:e.id,className:"partner-logo-editor",style:{width:"120px",height:"120px",backgroundColor:"#6c757d",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",border:"2px solid #ddd",borderRadius:"4px",position:"relative"}},e.url?(0,n.createElement)("img",{src:e.url,alt:e.alt,style:{width:"100%",height:"100%",objectFit:"contain"}}):(0,n.createElement)("div",{style:{color:"white",fontSize:"12px",textAlign:"center"}},"Logo ",t+1)))),d.length>4&&(0,n.createElement)("div",{style:{width:"120px",height:"120px",backgroundColor:"#2D9B8A",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"4px",color:"white",fontSize:"14px",fontWeight:"bold"}},"+",d.length-4))):(0,n.createElement)("div",{className:"partners-logos-editor",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"20px"}},d.map(((e,o)=>(0,n.createElement)("div",{key:e.id,className:"partner-logo-editor",style:{width:"150px",height:"150px",backgroundColor:"#6c757d",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",border:"2px solid #ddd",borderRadius:"4px",position:"relative"}},e.url?(0,n.createElement)("img",{src:e.url,alt:e.alt,style:{width:"100%",height:"100%",objectFit:"contain"}}):(0,n.createElement)("div",{style:{color:"#fff",textAlign:"center",fontSize:"14px"}},(0,t.__)("Aucune image","mon-theme-aca")),(0,n.createElement)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0,0,0,0.8)",padding:"8px",borderRadius:"4px",opacity:0,transition:"opacity 0.3s"},onMouseEnter:e=>e.target.style.opacity=1,onMouseLeave:e=>e.target.style.opacity=0},(0,n.createElement)(r.MediaUploadCheck,null,(0,n.createElement)(r.MediaUpload,{onSelect:e=>((e,t)=>{g(t,"id",e.id),g(t,"url",e.url),g(t,"alt",e.alt||"")})(e,o),allowedTypes:["image"],value:e.id,render:({open:r})=>(0,n.createElement)(a.Button,{onClick:r,isSecondary:!0,isSmall:!0},e.url?(0,t.__)("Changer","mon-theme-aca"):(0,t.__)("Choisir","mon-theme-aca"))})))))),0===d.length&&(0,n.createElement)("div",{style:{padding:"40px",textAlign:"center",color:"#666",border:"2px dashed #ddd",borderRadius:"4px",width:"100%"}},(0,n.createElement)("p",null,(0,t.__)("Aucun partenaire ajoutÃ©. Utilisez le panneau de droite pour ajouter des partenaires.","mon-theme-aca")))))))},save:()=>null})})();