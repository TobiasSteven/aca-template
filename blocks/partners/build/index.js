(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,a=window.React,n=window.wp.blockEditor,o=window.wp.components,r=window.wp.element,l=JSON.parse('{"UU":"mon-theme-aca/partners"}');(0,e.registerBlockType)(l.UU,{edit:function({attributes:e,setAttributes:l}){const{title:i,partners:d,backgroundColor:s,showBorders:c}=e,[m,p]=(0,r.useState)(null),u=(0,n.useBlockProps)({className:"partners-block-editor",style:{backgroundColor:s,width:"100%"}}),h=(e,t,a)=>{const n=[...d];n[e][t]=a,l({partners:n})};return(0,a.createElement)("div",{...u},(0,a.createElement)(n.InspectorControls,null,(0,a.createElement)(o.PanelBody,{title:(0,t.__)("Paramètres généraux","mon-theme-aca")},(0,a.createElement)(o.TextControl,{label:(0,t.__)("Titre","mon-theme-aca"),value:i,onChange:e=>l({title:e})}),(0,a.createElement)(o.ToggleControl,{label:(0,t.__)("Afficher les bordures","mon-theme-aca"),checked:c,onChange:e=>l({showBorders:e})}),(0,a.createElement)("div",{style:{marginBottom:"16px"}},(0,a.createElement)("label",null,(0,t.__)("Couleur de fond","mon-theme-aca")),(0,a.createElement)(o.ColorPicker,{color:s,onChange:e=>l({backgroundColor:e})}))),(0,a.createElement)(o.PanelBody,{title:(0,t.__)("Gestion des partenaires","mon-theme-aca")},(0,a.createElement)(o.Button,{isPrimary:!0,onClick:()=>{const e=[...d,{id:Date.now(),url:"",alt:"",link:""}];l({partners:e})},style:{marginBottom:"16px"}},(0,t.__)("Ajouter un partenaire","mon-theme-aca")),d.map(((e,n)=>(0,a.createElement)("div",{key:e.id,style:{marginBottom:"20px",padding:"16px",border:"1px solid #ddd",borderRadius:"4px"}},(0,a.createElement)("h4",null,(0,t.__)("Partenaire","mon-theme-aca")," ",n+1),(0,a.createElement)(o.TextControl,{label:(0,t.__)("Texte alternatif","mon-theme-aca"),value:e.alt,onChange:e=>h(n,"alt",e)}),(0,a.createElement)(o.TextControl,{label:(0,t.__)("Lien (optionnel)","mon-theme-aca"),value:e.link,onChange:e=>h(n,"link",e),placeholder:"https://"}),(0,a.createElement)(o.Button,{isDestructive:!0,onClick:()=>(e=>{const t=d.filter(((t,a)=>a!==e));l({partners:t})})(n),style:{marginTop:"8px"}},(0,t.__)("Supprimer","mon-theme-aca"))))))),"            ",(0,a.createElement)("div",{className:"partners-section-editor",style:{padding:"40px 20px",textAlign:"center",border:c?"5px solid #e0e0e0":"none",borderTop:c?"5px solid #e0e0e0":"none",borderBottom:c?"5px solid #e0e0e0":"none",width:"100%"}},(0,a.createElement)("div",{className:"partners-content-editor",style:{width:"100%",maxWidth:"1200px",margin:"0 auto"}},(0,a.createElement)("h2",{style:{fontSize:"2.5em",fontWeight:"bold",color:"#343A40",marginBottom:"40px"}},i),(0,a.createElement)("div",{className:"partners-logos-editor",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"20px"}},d.map(((e,r)=>(0,a.createElement)("div",{key:e.id,className:"partner-logo-editor",style:{width:"150px",height:"150px",backgroundColor:"#6c757d",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",border:"2px solid #ddd",borderRadius:"4px",position:"relative"}},e.url?(0,a.createElement)("img",{src:e.url,alt:e.alt,style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,a.createElement)("div",{style:{color:"#fff",textAlign:"center",fontSize:"14px"}},(0,t.__)("Aucune image","mon-theme-aca")),(0,a.createElement)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0,0,0,0.8)",padding:"8px",borderRadius:"4px",opacity:0,transition:"opacity 0.3s"},onMouseEnter:e=>e.target.style.opacity=1,onMouseLeave:e=>e.target.style.opacity=0},(0,a.createElement)(n.MediaUploadCheck,null,(0,a.createElement)(n.MediaUpload,{onSelect:e=>((e,t)=>{h(t,"id",e.id),h(t,"url",e.url),h(t,"alt",e.alt||"")})(e,r),allowedTypes:["image"],value:e.id,render:({open:n})=>(0,a.createElement)(o.Button,{onClick:n,isSecondary:!0,isSmall:!0},e.url?(0,t.__)("Changer","mon-theme-aca"):(0,t.__)("Choisir","mon-theme-aca"))})))))),0===d.length&&(0,a.createElement)("div",{style:{padding:"40px",textAlign:"center",color:"#666",border:"2px dashed #ddd",borderRadius:"4px",width:"100%"}},(0,a.createElement)("p",null,(0,t.__)("Aucun partenaire ajouté. Utilisez le panneau de droite pour ajouter des partenaires.","mon-theme-aca")))))))},save:()=>null})})();