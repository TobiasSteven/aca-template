(()=>{"use strict";const e=window.wp.blocks,t=window.React,o=window.wp.i18n,n=window.wp.blockEditor,i=window.wp.components,s=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"mon-theme-aca/nos-missions","version":"1.0.0","title":"Nos Missions","category":"mon-theme-aca","icon":"admin-users","description":"Affiche les missions de l\'organisation avec des cartes personnalisables.","keywords":["missions","objectifs","valeurs","cartes"],"supports":{"html":false,"align":["wide","full"],"spacing":{"margin":true,"padding":true}},"attributes":{"title":{"type":"string","default":"Nos Missions"},"missions":{"type":"array","default":[{"icon":"🌱","title":"Soutenir les Agriculteurs","description":"Nous offrons des ressources et des formations pour aider les agriculteurs à améliorer leurs pratiques et leurs revenus."},{"icon":"🌿","title":"Promouvoir la Durabilité","description":"Nous encourageons des pratiques agricoles durables pour préserver l\'environnement et assurer la viabilité à long terme."},{"icon":"🤝","title":"Renforcer la Coopération","description":"Nous facilitons la coopération entre les acteurs de la filière pour un développement harmonieux."}]},"backgroundColor":{"type":"string","default":"#ffffff"}},"textdomain":"mon-theme-aca","editorScript":"file:./build/index.js","editorStyle":"file:./build/index.css","style":"file:./style-index.css","render":"file:./render.php"}');(0,e.registerBlockType)(s.name,{...s,edit:function({attributes:e,setAttributes:s}){const{title:a,missions:r,backgroundColor:l}=e,c=(0,n.useBlockProps)({className:"nos-missions-block"}),m=(e,t,o)=>{const n=[...r];n[e]={...n[e],[t]:o},s({missions:n})};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(i.PanelBody,{title:(0,o.__)("Paramètres des Missions","mon-theme-aca")},(0,t.createElement)(i.TextControl,{label:(0,o.__)("Titre de la section","mon-theme-aca"),value:a,onChange:e=>s({title:e})}),(0,t.createElement)(i.Button,{isPrimary:!0,onClick:()=>{const e=[...r,{icon:"✨",title:(0,o.__)("Nouvelle Mission","mon-theme-aca"),description:(0,o.__)("Description de la mission...","mon-theme-aca")}];s({missions:e})},style:{marginTop:"10px"}},(0,o.__)("Ajouter une mission","mon-theme-aca"))),(0,t.createElement)(i.PanelBody,{title:(0,o.__)("Couleurs","mon-theme-aca")},(0,t.createElement)("p",null,(0,o.__)("Couleur de fond de la section","mon-theme-aca")),(0,t.createElement)(n.ColorPalette,{value:l,onChange:e=>s({backgroundColor:e||"#ffffff"}),colors:[{name:"Blanc",color:"#ffffff"},{name:"Vert Teal",color:"#2D9B8A"},{name:"Vert Clair",color:"#A8E6CF"},{name:"Vert Foncé",color:"#1F6B5C"},{name:"Gris Clair",color:"#F8F9FA"},{name:"Gris",color:"#6C757D"},{name:"Gris Foncé",color:"#343A40"}]})),r.map(((e,n)=>(0,t.createElement)(i.PanelBody,{key:n,title:`${(0,o.__)("Mission","mon-theme-aca")} ${n+1}: ${e.title}`,initialOpen:!1},(0,t.createElement)(i.TextControl,{label:(0,o.__)("Icône (Emoji)","mon-theme-aca"),value:e.icon,onChange:e=>m(n,"icon",e)}),(0,t.createElement)(i.TextControl,{label:(0,o.__)("Titre","mon-theme-aca"),value:e.title,onChange:e=>m(n,"title",e)}),(0,t.createElement)(i.TextareaControl,{label:(0,o.__)("Description","mon-theme-aca"),value:e.description,onChange:e=>m(n,"description",e),rows:4}),(0,t.createElement)(i.Button,{isDestructive:!0,onClick:()=>(e=>{const t=r.filter(((t,o)=>o!==e));s({missions:t})})(n),style:{marginTop:"10px"}},(0,o.__)("Supprimer cette mission","mon-theme-aca")))))),(0,t.createElement)("div",{...c},(0,t.createElement)("div",{className:"missions-container",style:{backgroundColor:l}},(0,t.createElement)(n.RichText,{tagName:"h2",className:"missions-title",value:a,onChange:e=>s({title:e}),placeholder:(0,o.__)("Titre de la section...","mon-theme-aca")}),(0,t.createElement)("div",{className:"missions-cards"},r.map(((e,i)=>(0,t.createElement)("div",{key:i,className:"mission-card"},(0,t.createElement)("div",{className:"mission-icon"},e.icon),(0,t.createElement)(n.RichText,{tagName:"h3",value:e.title,onChange:e=>m(i,"title",e),placeholder:(0,o.__)("Titre de la mission...","mon-theme-aca")}),(0,t.createElement)(n.RichText,{tagName:"p",value:e.description,onChange:e=>m(i,"description",e),placeholder:(0,o.__)("Description de la mission...","mon-theme-aca")}))))))))}})})();