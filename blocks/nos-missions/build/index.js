(()=>{"use strict";const e=window.wp.blocks,t=window.React,i=window.wp.i18n,s=window.wp.blockEditor,n=window.wp.components,o=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"mon-theme-aca/nos-missions","version":"1.0.0","title":"Nos Missions","category":"mon-theme-aca","icon":"admin-users","description":"Affiche les missions de l\'organisation avec des cartes personnalisables.","keywords":["missions","objectifs","valeurs","cartes"],"supports":{"html":false,"align":["wide","full"],"spacing":{"margin":true,"padding":true}},"attributes":{"title":{"type":"string","default":"Nos Missions"},"missions":{"type":"array","default":[{"icon":"🌱","title":"Soutenir les Agriculteurs","description":"Nous offrons des ressources et des formations pour aider les agriculteurs à améliorer leurs pratiques et leurs revenus."},{"icon":"🌿","title":"Promouvoir la Durabilité","description":"Nous encourageons des pratiques agricoles durables pour préserver l\'environnement et assurer la viabilité à long terme."},{"icon":"🤝","title":"Renforcer la Coopération","description":"Nous facilitons la coopération entre les acteurs de la filière pour un développement harmonieux."}]}},"textdomain":"mon-theme-aca","editorScript":"file:./build/index.js","editorStyle":"file:./build/index.css","style":"file:./style-index.css","render":"file:./render.php"}');(0,e.registerBlockType)(o.name,{...o,edit:function({attributes:e,setAttributes:o}){const{title:a,missions:r}=e,l=(0,s.useBlockProps)({className:"nos-missions-block"}),c=(e,t,i)=>{const s=[...r];s[e]={...s[e],[t]:i},o({missions:s})};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(s.InspectorControls,null,(0,t.createElement)(n.PanelBody,{title:(0,i.__)("Paramètres des Missions","mon-theme-aca")},(0,t.createElement)(n.TextControl,{label:(0,i.__)("Titre de la section","mon-theme-aca"),value:a,onChange:e=>o({title:e})}),(0,t.createElement)(n.Button,{isPrimary:!0,onClick:()=>{const e=[...r,{icon:"✨",title:(0,i.__)("Nouvelle Mission","mon-theme-aca"),description:(0,i.__)("Description de la mission...","mon-theme-aca")}];o({missions:e})},style:{marginTop:"10px"}},(0,i.__)("Ajouter une mission","mon-theme-aca"))),r.map(((e,s)=>(0,t.createElement)(n.PanelBody,{key:s,title:`${(0,i.__)("Mission","mon-theme-aca")} ${s+1}: ${e.title}`,initialOpen:!1},(0,t.createElement)(n.TextControl,{label:(0,i.__)("Icône (Emoji)","mon-theme-aca"),value:e.icon,onChange:e=>c(s,"icon",e)}),(0,t.createElement)(n.TextControl,{label:(0,i.__)("Titre","mon-theme-aca"),value:e.title,onChange:e=>c(s,"title",e)}),(0,t.createElement)(n.TextareaControl,{label:(0,i.__)("Description","mon-theme-aca"),value:e.description,onChange:e=>c(s,"description",e),rows:4}),(0,t.createElement)(n.Button,{isDestructive:!0,onClick:()=>(e=>{const t=r.filter(((t,i)=>i!==e));o({missions:t})})(s),style:{marginTop:"10px"}},(0,i.__)("Supprimer cette mission","mon-theme-aca")))))),(0,t.createElement)("div",{...l},(0,t.createElement)("div",{className:"missions-container"},(0,t.createElement)(s.RichText,{tagName:"h2",className:"missions-title",value:a,onChange:e=>o({title:e}),placeholder:(0,i.__)("Titre de la section...","mon-theme-aca")}),(0,t.createElement)("div",{className:"missions-cards"},r.map(((e,n)=>(0,t.createElement)("div",{key:n,className:"mission-card"},(0,t.createElement)("div",{className:"mission-icon"},e.icon),(0,t.createElement)(s.RichText,{tagName:"h3",value:e.title,onChange:e=>c(n,"title",e),placeholder:(0,i.__)("Titre de la mission...","mon-theme-aca")}),(0,t.createElement)(s.RichText,{tagName:"p",value:e.description,onChange:e=>c(n,"description",e),placeholder:(0,i.__)("Description de la mission...","mon-theme-aca")}))))))))}})})();