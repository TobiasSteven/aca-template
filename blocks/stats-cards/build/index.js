(()=>{"use strict";const e=window.wp.blocks,a=window.React,t=window.wp.i18n,l=window.wp.blockEditor,n=window.wp.components,c=window.wp.element,r=JSON.parse('{"UU":"mon-theme-aca/stats-cards"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r}){const{cards:o,backgroundColor:s,cardsPerRow:m}=e,i=(e,a,t)=>{const l=[...o];l[e][a]=t,r({cards:l})},d=(0,l.useBlockProps)({style:{backgroundColor:s}});return(0,a.createElement)(c.Fragment,null,(0,a.createElement)(l.InspectorControls,null,(0,a.createElement)(n.PanelBody,{title:(0,t.__)("Paramètres des cartes","mon-theme-aca")},(0,a.createElement)(n.RangeControl,{label:(0,t.__)("Cartes par ligne","mon-theme-aca"),value:m,onChange:e=>r({cardsPerRow:e}),min:1,max:6}),(0,a.createElement)("div",{style:{marginBottom:"16px"}},(0,a.createElement)("label",null,(0,t.__)("Couleur de fond","mon-theme-aca")),(0,a.createElement)(n.ColorPicker,{color:s,onChange:e=>r({backgroundColor:e})})),(0,a.createElement)(n.Button,{variant:"primary",onClick:()=>{const e={icon:"fas fa-chart-bar",label:(0,t.__)("Nouvelle statistique","mon-theme-aca"),value:"0"};r({cards:[...o,e]})},style:{marginBottom:"16px"}},(0,t.__)("Ajouter une carte","mon-theme-aca"))),o.map(((e,l)=>(0,a.createElement)(n.PanelBody,{key:l,title:(0,t.__)(`Carte ${l+1}`,"mon-theme-aca"),initialOpen:!1},(0,a.createElement)(n.TextControl,{label:(0,t.__)("Icône (classe FontAwesome)","mon-theme-aca"),value:e.icon,onChange:e=>i(l,"icon",e),help:(0,t.__)("Ex: fas fa-users, fas fa-chart-bar","mon-theme-aca")}),(0,a.createElement)(n.TextControl,{label:(0,t.__)("Étiquette","mon-theme-aca"),value:e.label,onChange:e=>i(l,"label",e)}),(0,a.createElement)(n.TextControl,{label:(0,t.__)("Valeur","mon-theme-aca"),value:e.value,onChange:e=>i(l,"value",e)}),(0,a.createElement)(n.Button,{variant:"secondary",isDestructive:!0,onClick:()=>(e=>{const a=o.filter(((a,t)=>t!==e));r({cards:a})})(l)},(0,t.__)("Supprimer cette carte","mon-theme-aca")))))),(0,a.createElement)("div",{...d},(0,a.createElement)("div",{className:"stats-container-editor",style:{display:"grid",gridTemplateColumns:`repeat(${m}, 1fr)`,gap:"20px",padding:"20px"}},o.map(((e,n)=>(0,a.createElement)("div",{key:n,className:"stat-card-editor"},(0,a.createElement)("div",{className:"stat-icon-editor"},(0,a.createElement)("i",{className:e.icon})),(0,a.createElement)(l.RichText,{tagName:"div",className:"stat-label-editor",value:e.label,onChange:e=>i(n,"label",e),placeholder:(0,t.__)("Étiquette de la statistique","mon-theme-aca")}),(0,a.createElement)(l.RichText,{tagName:"div",className:"stat-value-editor",value:e.value,onChange:e=>i(n,"value",e),placeholder:(0,t.__)("Valeur","mon-theme-aca")})))))))},save:function({attributes:e}){const{cards:t,backgroundColor:n,cardsPerRow:c}=e,r=l.useBlockProps.save({className:"wp-block-mon-theme-aca-stats-cards",style:{backgroundColor:n}});return(0,a.createElement)("div",{...r},(0,a.createElement)("div",{className:"stats-container"},t.map(((e,t)=>(0,a.createElement)("div",{key:t,className:"stat-card"},(0,a.createElement)("div",{className:"stat-icon"},(0,a.createElement)("i",{className:e.icon})),(0,a.createElement)("div",{className:"stat-label"},e.label),(0,a.createElement)("div",{className:"stat-value"},e.value))))))}})})();