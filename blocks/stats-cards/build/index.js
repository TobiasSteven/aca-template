(()=>{"use strict";const e=window.wp.blocks,a=window.React,t=window.wp.i18n,l=window.wp.blockEditor,o=window.wp.components,n=window.wp.element,s=[{label:(0,t.__)("Utilisateurs","mon-theme-aca"),value:"fas fa-users"},{label:(0,t.__)("Globe/Monde","mon-theme-aca"),value:"fas fa-globe-americas"},{label:(0,t.__)("Feuille/Nature","mon-theme-aca"),value:"fas fa-leaf"},{label:(0,t.__)("Presse-papier/Liste","mon-theme-aca"),value:"fas fa-clipboard-list"},{label:(0,t.__)("Graphique à barres","mon-theme-aca"),value:"fas fa-chart-bar"},{label:(0,t.__)("Graphique linéaire","mon-theme-aca"),value:"fas fa-chart-line"},{label:(0,t.__)("Graphique circulaire","mon-theme-aca"),value:"fas fa-chart-pie"},{label:(0,t.__)("Tendance montante","mon-theme-aca"),value:"fas fa-chart-line-up"},{label:(0,t.__)("Cible","mon-theme-aca"),value:"fas fa-bullseye"},{label:(0,t.__)("Trophée","mon-theme-aca"),value:"fas fa-trophy"},{label:(0,t.__)("Médaille","mon-theme-aca"),value:"fas fa-medal"},{label:(0,t.__)("Étoile","mon-theme-aca"),value:"fas fa-star"},{label:(0,t.__)("Cœur","mon-theme-aca"),value:"fas fa-heart"},{label:(0,t.__)("Pouce en l'air","mon-theme-aca"),value:"fas fa-thumbs-up"},{label:(0,t.__)("Ampoule","mon-theme-aca"),value:"fas fa-lightbulb"},{label:(0,t.__)("Rouage","mon-theme-aca"),value:"fas fa-cog"},{label:(0,t.__)("Bouclier","mon-theme-aca"),value:"fas fa-shield-alt"},{label:(0,t.__)("Carte","mon-theme-aca"),value:"fas fa-map"},{label:(0,t.__)("Horloge","mon-theme-aca"),value:"fas fa-clock"},{label:(0,t.__)("Calendrier","mon-theme-aca"),value:"fas fa-calendar"},{label:(0,t.__)("Argent","mon-theme-aca"),value:"fas fa-dollar-sign"},{label:(0,t.__)("Maison","mon-theme-aca"),value:"fas fa-home"},{label:(0,t.__)("Bâtiment","mon-theme-aca"),value:"fas fa-building"},{label:(0,t.__)("Industrie","mon-theme-aca"),value:"fas fa-industry"},{label:(0,t.__)("Camion","mon-theme-aca"),value:"fas fa-truck"},{label:(0,t.__)("Personnalisé","mon-theme-aca"),value:"custom"}],r=JSON.parse('{"UU":"mon-theme-aca/stats-cards"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r}){const{cards:c,backgroundColor:m}=e,i=(e,a,t)=>{const l=[...c];l[e][a]=t,r({cards:l})},f=(0,l.useBlockProps)({style:{backgroundColor:m}});return(0,a.createElement)(n.Fragment,null,(0,a.createElement)(l.InspectorControls,null,(0,a.createElement)(o.PanelBody,{title:(0,t.__)("Paramètres des cartes","mon-theme-aca")},(0,a.createElement)("div",{style:{marginBottom:"16px"}},(0,a.createElement)("label",null,(0,t.__)("Couleur de fond","mon-theme-aca")),(0,a.createElement)(o.ColorPicker,{color:m,onChange:e=>r({backgroundColor:e})})),(0,a.createElement)(o.Button,{variant:"primary",onClick:()=>{const e={icon:"fas fa-chart-bar",label:(0,t.__)("Nouvelle statistique","mon-theme-aca"),value:"0"};r({cards:[...c,e]})},style:{marginBottom:"16px"}},(0,t.__)("Ajouter une carte","mon-theme-aca"))),c.map(((e,l)=>(0,a.createElement)(o.PanelBody,{key:l,title:(0,t.__)(`Carte ${l+1}`,"mon-theme-aca"),initialOpen:!1},(0,a.createElement)(o.SelectControl,{label:(0,t.__)("Choisir une icône","mon-theme-aca"),value:s.find((a=>a.value===e.icon))?e.icon:"custom",options:s,onChange:e=>{i(l,"icon","custom"===e?"fas fa-star":e)}}),(0,a.createElement)("div",{style:{marginBottom:"16px"}},(0,a.createElement)("label",{style:{fontSize:"12px",color:"#666",display:"block",marginBottom:"8px"}},(0,t.__)("Icônes populaires:","mon-theme-aca")),(0,a.createElement)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",padding:"8px",backgroundColor:"#f8f9fa",borderRadius:"4px"}},["fas fa-users","fas fa-globe-americas","fas fa-leaf","fas fa-chart-bar","fas fa-trophy","fas fa-heart"].map((t=>(0,a.createElement)("button",{key:t,type:"button",onClick:()=>i(l,"icon",t),style:{background:e.icon===t?"#2D9B8A":"#fff",color:e.icon===t?"#fff":"#2D9B8A",border:"1px solid #2D9B8A",borderRadius:"4px",padding:"8px",cursor:"pointer",fontSize:"16px",transition:"all 0.2s ease"},title:t},(0,a.createElement)("i",{className:t,style:{fontFamily:'"Font Awesome 6 Free", "Font Awesome 6 Pro", "Font Awesome 6 Brands", "FontAwesome", sans-serif !important',fontWeight:"900 !important"}})))))),!s.find((a=>a.value===e.icon))&&(0,a.createElement)("div",null,(0,a.createElement)(o.TextControl,{label:(0,t.__)("Icône personnalisée (classe FontAwesome)","mon-theme-aca"),value:e.icon,onChange:e=>i(l,"icon",e),help:(0,t.__)("Ex: fas fa-users, fas fa-chart-bar, fas fa-leaf, fas fa-globe-americas, fas fa-clipboard-list","mon-theme-aca"),placeholder:"fas fa-chart-bar"}),(0,a.createElement)(o.Button,{variant:"secondary",size:"small",onClick:()=>i(l,"icon","fas fa-users"),style:{marginTop:"8px"}},(0,t.__)("Revenir aux icônes prédéfinies","mon-theme-aca"))),e.icon&&(0,a.createElement)("div",{style:{marginBottom:"16px",textAlign:"center"}},(0,a.createElement)("label",{style:{fontSize:"12px",color:"#666",display:"block",marginBottom:"8px"}},(0,t.__)("Aperçu de l'icône:","mon-theme-aca")),(0,a.createElement)("div",{style:{padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef"},className:"stat-icon-preview"},(0,a.createElement)("i",{className:e.icon,style:{fontSize:"24px",color:"#2D9B8A",fontFamily:'"Font Awesome 6 Free", "Font Awesome 6 Pro", "Font Awesome 6 Brands", "FontAwesome", sans-serif !important',fontWeight:"900 !important",fontStyle:"normal !important",display:"inline-block !important",lineHeight:"1 !important"}}),(0,a.createElement)("div",{style:{fontSize:"10px",color:"#6c757d",marginTop:"4px",fontStyle:"italic"}},e.icon))),(0,a.createElement)(o.TextControl,{label:(0,t.__)("Étiquette","mon-theme-aca"),value:e.label,onChange:e=>i(l,"label",e)}),(0,a.createElement)(o.TextControl,{label:(0,t.__)("Valeur","mon-theme-aca"),value:e.value,onChange:e=>i(l,"value",e)}),(0,a.createElement)(o.Button,{variant:"secondary",isDestructive:!0,onClick:()=>(e=>{const a=c.filter(((a,t)=>t!==e));r({cards:a})})(l)},(0,t.__)("Supprimer cette carte","mon-theme-aca")))))),(0,a.createElement)("div",{...f},(0,a.createElement)("div",{className:"stats-container-editor"},c.map(((e,o)=>(0,a.createElement)("div",{key:o,className:"stat-card-editor"},(0,a.createElement)("div",{className:"stat-icon-editor"},(0,a.createElement)("i",{key:`${o}-${e.icon}`,className:e.icon||"fas fa-chart-bar",style:{fontFamily:'"Font Awesome 6 Free", "Font Awesome 6 Pro", "Font Awesome 6 Brands", "FontAwesome", sans-serif',fontWeight:"900"}})),(0,a.createElement)(l.RichText,{tagName:"div",className:"stat-label-editor",value:e.label,onChange:e=>i(o,"label",e),placeholder:(0,t.__)("Étiquette de la statistique","mon-theme-aca")}),(0,a.createElement)(l.RichText,{tagName:"div",className:"stat-value-editor",value:e.value,onChange:e=>i(o,"value",e),placeholder:(0,t.__)("Valeur","mon-theme-aca")})))))))},save:function({attributes:e}){const{cards:t,backgroundColor:o}=e,n=l.useBlockProps.save({className:"wp-block-mon-theme-aca-stats-cards",style:{backgroundColor:o}});return(0,a.createElement)("div",{...n},(0,a.createElement)("div",{className:"stats-container"},t.map(((e,t)=>(0,a.createElement)("div",{key:t,className:"stat-card"},(0,a.createElement)("div",{className:"icon"},(0,a.createElement)("i",{key:`${t}-${e.icon}`,className:e.icon||"fas fa-chart-bar",style:{fontFamily:'"Font Awesome 6 Free", "Font Awesome 6 Pro", "Font Awesome 6 Brands", "FontAwesome", sans-serif',fontWeight:"900"}})),(0,a.createElement)("div",{className:"stat-label"},e.label),(0,a.createElement)("div",{className:"stat-value"},e.value))))))}})})();