(()=>{"use strict";const e=window.wp.blocks,a=window.React,t=window.wp.i18n,l=window.wp.blockEditor,n=window.wp.components,c=window.wp.element,o=JSON.parse('{"UU":"mon-theme-aca/stats-cards"}');(0,e.registerBlockType)(o.UU,{edit:function({attributes:e,setAttributes:o}){const{cards:r,backgroundColor:s}=e,m=(e,a,t)=>{const l=[...r];l[e][a]=t,o({cards:l})},i=(0,l.useBlockProps)({style:{backgroundColor:s}});return(0,a.createElement)(c.Fragment,null,(0,a.createElement)(l.InspectorControls,null,(0,a.createElement)(n.PanelBody,{title:(0,t.__)("Paramètres des cartes","mon-theme-aca")},(0,a.createElement)("div",{style:{marginBottom:"16px"}},(0,a.createElement)("label",null,(0,t.__)("Couleur de fond","mon-theme-aca")),(0,a.createElement)(n.ColorPicker,{color:s,onChange:e=>o({backgroundColor:e})})),(0,a.createElement)(n.Button,{variant:"primary",onClick:()=>{const e={icon:"fas fa-chart-bar",label:(0,t.__)("Nouvelle statistique","mon-theme-aca"),value:"0"};o({cards:[...r,e]})},style:{marginBottom:"16px"}},(0,t.__)("Ajouter une carte","mon-theme-aca"))),r.map(((e,l)=>(0,a.createElement)(n.PanelBody,{key:l,title:(0,t.__)(`Carte ${l+1}`,"mon-theme-aca"),initialOpen:!1},(0,a.createElement)(n.TextControl,{label:(0,t.__)("Icône (classe FontAwesome)","mon-theme-aca"),value:e.icon,onChange:e=>m(l,"icon",e),help:(0,t.__)("Ex: fas fa-users, fas fa-chart-bar, fas fa-leaf","mon-theme-aca")}),e.icon&&(0,a.createElement)("div",{style:{marginBottom:"16px",textAlign:"center"}},(0,a.createElement)("label",{style:{fontSize:"12px",color:"#666",display:"block",marginBottom:"8px"}},(0,t.__)("Aperçu de l'icône:","mon-theme-aca")),(0,a.createElement)("i",{className:e.icon,style:{fontSize:"24px",color:"#A8E6CF"}})),(0,a.createElement)(n.TextControl,{label:(0,t.__)("Étiquette","mon-theme-aca"),value:e.label,onChange:e=>m(l,"label",e)}),(0,a.createElement)(n.TextControl,{label:(0,t.__)("Valeur","mon-theme-aca"),value:e.value,onChange:e=>m(l,"value",e)}),(0,a.createElement)(n.Button,{variant:"secondary",isDestructive:!0,onClick:()=>(e=>{const a=r.filter(((a,t)=>t!==e));o({cards:a})})(l)},(0,t.__)("Supprimer cette carte","mon-theme-aca")))))),(0,a.createElement)("div",{...i},(0,a.createElement)("div",{className:"stats-container-editor"},r.map(((e,n)=>(0,a.createElement)("div",{key:n,className:"stat-card-editor"},(0,a.createElement)("div",{className:"stat-icon-editor"},(0,a.createElement)("i",{key:`${n}-${e.icon}`,className:e.icon})),(0,a.createElement)(l.RichText,{tagName:"div",className:"stat-label-editor",value:e.label,onChange:e=>m(n,"label",e),placeholder:(0,t.__)("Étiquette de la statistique","mon-theme-aca")}),(0,a.createElement)(l.RichText,{tagName:"div",className:"stat-value-editor",value:e.value,onChange:e=>m(n,"value",e),placeholder:(0,t.__)("Valeur","mon-theme-aca")})))))))},save:function({attributes:e}){const{cards:t,backgroundColor:n}=e,c=l.useBlockProps.save({className:"wp-block-mon-theme-aca-stats-cards",style:{backgroundColor:n}});return(0,a.createElement)("div",{...c},(0,a.createElement)("div",{className:"stats-container"},t.map(((e,t)=>(0,a.createElement)("div",{key:t,className:"stat-card"},(0,a.createElement)("div",{className:"icon"},(0,a.createElement)("i",{key:`${t}-${e.icon}`,className:e.icon})),(0,a.createElement)("div",{className:"stat-label"},e.label),(0,a.createElement)("div",{className:"stat-value"},e.value))))))}})})();